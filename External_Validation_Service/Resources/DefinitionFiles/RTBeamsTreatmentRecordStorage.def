#
#Generated by odd2def on: Wed Jan 11 11:43:19 2006#
#

DEFINE SYSTEM "DICOM" "3.0"
"DICOM" "3.0"
ENDDEFINE


#
# Definition of the RT Beams Treatment Record Storage SOP Class
#
DEFINE C-STORE-RQ "RT Beams Treatment Record"

SOPCLASS "1.2.840.10008.5.1.4.1.1.481.4" "RT Beams Treatment Record Storage SOP Class"

MODULE "Patient Module" M
(0x00100010,2,PN,1)                                 "Patient's Name"
(0x00100020,2,LO,1)                                 "Patient ID"
(0x00100030,2,DA,1)                                 "Patient's Birth Date"
(0x00100040,2,CS,1,E,"F"
                   | "M"
                   | "O")                           "Patient's Sex"
(0x00100021,3,LO,1)                                 "Issuer of Patient ID"
(0x00100032,3,TM,1)                                 "Patient's Birth Time"
(0x00101000,3,LO,1:n)                               "Other Patient IDs"
(0x00101001,3,PN,1:n)                               "Other Patient Names"
(0x00102160,3,SH,1)                                 "Ethnic Group"
(0x00104000,3,LT,1)                                 "Patient Comments"
(0x00081120,3R,SQ,1,
 >(0x00081150,1C,UI,1,E,"1.2.840.10008.3.1.2.1.1")  "Referenced SOP Class UID"       : PRESENT ../0x00081120
 >(0x00081155,1C,UI,1)                              "Referenced SOP Instance UID"    : PRESENT ../0x00081120
)                                                   "Referenced Patient Sequence"

MODULE "General Study Module" M
(0x0020000D,1,UI,1)                                 "Study Instance UID"
(0x00080020,2,DA,1)                                 "Study Date"
(0x00080030,2,TM,1)                                 "Study Time"
(0x00080050,2,SH,1)                                 "Accession Number"
(0x00080090,2,PN,1)                                 "Referring Physician's Name"
(0x00200010,2,SH,1)                                 "Study ID"
(0x00081030,3,LO,1)                                 "Study Description"
(0x00081048,3,PN,1:n)                               "Physician(s) of Record"
(0x00081060,3,PN,1:n)                               "Name of Physician(s) Reading Study"
(0x00081110,3,SQ,1,
 >(0x00081150,1C,UI,1)                              "Referenced SOP Class UID"       : PRESENT ../0x00081110
 >(0x00081155,1C,UI,1)                              "Referenced SOP Instance UID"    : PRESENT ../0x00081110
)                                                   "Referenced Study Sequence"
(0x00080096,3R,SQ,1,
 >INCLUDEMACRO                                      "Person Identification Macro"
)                                                   "Referring Physician Identification Sequence"
(0x00081032,3R,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined)"
)                                                   "Procedure Code Sequence"
(0x00081049,3R,SQ,1,
 >INCLUDEMACRO                                      "Person Identification Macro"
)                                                   "Physician(s) of Record Identification Sequence"
(0x00081062,3R,SQ,1,
 >INCLUDEMACRO                                      "Person Identification Macro"
)                                                   "Physician(s) Reading Study Identification Sequence"

MODULE "Patient Study Module" U
(0x00081080,3,LO,1:n)                               "Admitting Diagnoses Description"
(0x00081084,3,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined)"
)                                                   "Admitting Diagnosis Code Sequence"
(0x00101010,3,AS,1)                                 "Patient's Age"
(0x00101020,3,DS,1)                                 "Patient's Size"
(0x00101030,3,DS,1)                                 "Patient's Weight"
(0x00102180,3,SH,1)                                 "Occupation"
(0x001021B0,3,LT,1)                                 "Additional Patient History"

MODULE "Clinical Trial Study Module" U
(0x00120050,2,LO,1)                                 "Clinical Trial Time Point ID"
(0x00120051,3,ST,1)                                 "Clinical Trial Time Point Description"

MODULE "Clinical Trial Subject Module" U
(0x00120010,1,LO,1)                                 "Clinical Trial Sponsor Name"
(0x00120020,1,LO,1)                                 "Clinical Trial Protocol ID"
(0x00120040,1C,LO,1)                                "Clinical Trial Subject ID"      : WEAK ((NOT PRESENT 0x00120042), TRUE)
(0x00120042,1C,LO,1)                                "Clinical Trial Subject Reading ID" : WEAK ((NOT PRESENT 0x00120040), TRUE)
(0x00120021,2,LO,1)                                 "Clinical Trial Protocol Name"
(0x00120030,2,LO,1)                                 "Clinical Trial Site ID"
(0x00120031,2,LO,1)                                 "Clinical Trial Site Name"

MODULE "Clinical Trial Series Module" U
(0x00120060,2,LO,1)                                 "Clinical Trial Coordinating Center Name"

MODULE "General Equipment Module" M
(0x00080070,2,LO,1)                                 "Manufacturer"
(0x00080080,3,LO,1)                                 "Institution Name"
(0x00080081,3,ST,1)                                 "Institution Address"
(0x00081010,3,SH,1)                                 "Station Name"
(0x00081040,3,LO,1)                                 "Institutional Department Name"
(0x00081090,3,LO,1)                                 "Manufacturer's Model Name"
(0x00181000,3,LO,1)                                 "Device Serial Number"
(0x00181020,3,LO,1:n)                               "Software Version(s)"
(0x00181050,3,DS,1)                                 "Spatial Resolution"
(0x00181200,3,DA,1:n)                               "Date of Last Calibration"
(0x00181201,3,TM,1:n)                               "Time of Last Calibration"
(0x00280120,3,US/SS,1)                              "Pixel Padding Value"

MODULE "Curve Module" U
(0x50000005,1,US,1)                                 "Curve Dimensions"
(0x50000010,1,US,1)                                 "Number of Points"
(0x50000020,1,CS,1,D,"ECG"
                   | "FILT"
                   | "FLOW"
                   | "HIST"
                   | "PHYSIO"
                   | "POLY"
                   | "PRESSURE"
                   | "PROF"
                   | "RESP"
                   | "ROI"
                   | "TABL"
                   | "TAC")                         "Type of Data"
(0x50000103,1,US,1,E,0000
                   | 0001
                   | 0002
                   | 0003
                   | 0004)                          "Data Value Representation"
(0x50003000,1,OW/OB,1)                              "Curve Data"
(0x50000110,1C,US,1:n,E,0000
                      | 0001)                       "Curve Data Descriptor"          : "Required if any dimensions of the data are described by interval spacing."
(0x50000112,1C,US,1)                                "Coordinate Start Value"         : PRESENT 0x50000110
(0x50000114,1C,US,1)                                "Coordinate Step Value"          : PRESENT 0x50000110
(0x50000022,3,LO,1)                                 "Curve Description"
(0x50000030,3,SH,1:n,D,"BPM"
                     | "CM"
                     | "CM2"
                     | "CM2S"
                     | "CM3"
                     | "CM3S"
                     | "CMS"
                     | "CMS2"
                     | "CNTS"
                     | "DB"
                     | "DBS"
                     | "DEG"
                     | "GM"
                     | "GMM2"
                     | "HZ"
                     | "IN"
                     | "KG"
                     | "LB"
                     | "LMIN"
                     | "LMINM2"
                     | "M2"
                     | "MILS"
                     | "MILV"
                     | "MLM2"
                     | "MM"
                     | "MMHG"
                     | "MS2"
                     | "NONE"
                     | "PCNT"
                     | "PIXL"
                     | "SEC")                       "Axis Units"
(0x50000040,3,SH,1:n)                               "Axis Labels"
(0x50000104,3,US,1:n)                               "Minimum Coordinate Value"
(0x50000105,3,US,1:n)                               "Maximum Coordinate Value"
(0x50000106,3,SH,1:n)                               "Curve Range"
(0x50002500,3,LO,1)                                 "Curve Label"
(0x50002600,3,SQ,1,
 >(0x00081150,1,UI,1,E,"1.2.840.10008.5.1.4.1.1.8") "Referenced SOP Class UID"
 >(0x00081155,1,UI,1)                               "Referenced SOP Instance UID"
 >(0x50002610,1,US,1)                               "Referenced Overlay Group (in Curve Module)"
)                                                   "Referenced Overlay Sequence (in Curve Module)"

MODULE "SOP Common Module" M
(0x00080005,1C,CS,1:n,DL,"GB18030"
                      | "ISO 2022 IR 100"
                      | "ISO 2022 IR 101"
                      | "ISO 2022 IR 109"
                      | "ISO 2022 IR 110"
                      | "ISO 2022 IR 126"
                      | "ISO 2022 IR 127"
                      | "ISO 2022 IR 13"
                      | "ISO 2022 IR 138"
                      | "ISO 2022 IR 144"
                      | "ISO 2022 IR 148"
                      | "ISO 2022 IR 149"
                      | "ISO 2022 IR 159"
                      | "ISO 2022 IR 166"
                      | "ISO 2022 IR 6"
                      | "ISO 2022 IR 87"
                      | "ISO_IR 100"
                      | "ISO_IR 101"
                      | "ISO_IR 109"
                      | "ISO_IR 110"
                      | "ISO_IR 126"
                      | "ISO_IR 127"
                      | "ISO_IR 13"
                      | "ISO_IR 138"
                      | "ISO_IR 144"
                      | "ISO_IR 148"
                      | "ISO_IR 166")               "Specific Character Set"         : "Required if expanded/replacement character set used"
(0x00080016,1C,UI,1)                                "SOP Class UID"                  : VALUE 0x00000100 = "1" OR PRESENT 0x00020001
(0x00080018,1C,UI,1)                                "SOP Instance UID"               : VALUE 0x00000100 = "1" OR PRESENT 0x00020001
(0x00080012,3,DA,1)                                 "Instance Creation Date"
(0x00080013,3,TM,1)                                 "Instance Creation Time"
(0x00080014,3,UI,1)                                 "Instance Creator UID"
(0x00080201,3,SH,1)                                 "Timezone Offset From UTC"
(0x01000410,3,CS,1,E,"AC"
                   | "AO"
                   | "NS"
                   | "OR")                          "SOP Instance Status"
(0x01000420,3,DT,1)                                 "SOP Authorization Date and Time"
(0x01000424,3,LT,1)                                 "SOP Authorization Comment"
(0x01000426,3,LO,1)                                 "Authorization Equipment Certification Number"
INCLUDEMACRO                                        "Digital Signatures Macro"

MODULE "RT Beams Session Record Module" M
(0x30080020,1,SQ,1,
 >(0x3008002A,1,CS,1,E,"MACHINE"
                     | "NORMAL"
                     | "OPERATOR"
                     | "UNKNOWN")                   "Treatment Termination Status"
 >(0x30080040,1,SQ,1,
   >(0x30080024,1,DA,1)                             "Treatment Control Point Date"
   >(0x30080025,1,TM,1)                             "Treatment Control Point Time"
   >(0x30080044,1,DS,1)                             "Delivered Meterset"
   >(0x300A0015,1C,CS,1,D,"MEV"
                        | "MV")                     "Nominal Beam Energy Unit"       : PRESENT 0x300A0114
   >(0x300A011A,1C,SQ,1,
     >(0x300A00B8,1C,CS,1,E,"ASYMX"
                          | "ASYMY"
                          | "MLCX"
                          | "MLCY"
                          | "X"
                          | "Y")                    "RT Beam Limiting Device Type"   : PRESENT ../0x300A011A
     >(0x300A011C,1C,DS,2:2n)                       "Leaf/Jaw Positions"             : PRESENT ../0x300A011A
    )                                               "Beam Limiting Device Position Sequence" : "Required for Control Poin 0 of 0x30080040 or if beam limiting device changes during beam delivery"
   >(0x300A011E,1C,DS,1)                            "Gantry Angle"                   : "Required for Control Poin 0 of 0x30080040 or if Grantry Angle changes during beam administration"
   >(0x300A011F,1C,CS,1,E,"CC"
                        | "CW"
                        | "NONE")                   "Gantry Rotation Direction"      : "Required for Control Poin 0 of 0x30080040 or if Grantry Angle changes during beam administration"
   >(0x300A0120,1C,DS,1)                            "Beam Limiting Device Angle"     : "Required for Control Poin 0 of 0x30080040 or if beam limiting device angle changes during beam delivery"
   >(0x300A0121,1C,CS,1,E,"CC"
                        | "CW"
                        | "NONE")                   "Beam Limiting Device Rotation Direction" : "Required for Control Poin 0 of 0x30080040 or if Grantry Angle changes during beam administration"
   >(0x300A0122,1C,DS,1)                            "Patient Support Angle"          : "Required for Control Poin 0 of 0x30080040 or if Patient Support changes during beam administration"
   >(0x300A0123,1C,CS,1,E,"CC"
                        | "CW"
                        | "NONE")                   "Patient Support Rotation Direction" : "Required for Control Poin 0 of 0x30080040 or if Patient Support changes during beam administration"
   >(0x300A0125,1C,DS,1)                            "Table Top Eccentric Angle"      : "Required for Control Poin 0 of 0x30080040 or if Table Top Eccentric Angle changes during beam administration"
   >(0x300A0126,1C,CS,1,E,"CC"
                        | "CW"
                        | "NONE")                   "Table Top Eccentric Rotation Direction" : "Required for Control Poin 0 of 0x30080040 or if Table Top Eccentric Angle changes during beam administration"
   >(0x30080042,2,DS,1)                             "Specified Meterset"
   >(0x30080048,2,DS,1)                             "Dose Rate Delivered"
   >(0x300A0115,2,DS,1)                             "Dose Rate Set"
   >(0x300A0128,2C,DS,1)                            "Table Top Vertical Position"    : "Required for Control Poin 0 of 0x30080040 or if Table Top Lateral Position changes during beam administration"
   >(0x300A0129,2C,DS,1)                            "Table Top Longitudinal Position" : "Required for Control Poin 0 of 0x30080040 or if Table Top Lateral Position changes during beam administration"
   >(0x300A012A,2C,DS,1)                            "Table Top Lateral Position"     : "Required for Control Poin 0 of 0x30080040 or if Table Top Lateral Position changes during beam administration"
   >(0x30080230,3,CS,1,E,"EXTENDED"
                       | "RETRACTED"
                       | "UNKNOWN")                 "Beam Stopper Position"
   >(0x300A0114,3,DS,1)                             "Nominal Beam Energy"
   >(0x300A0124,3,DS,1)                             "Table Top Eccentric Axis Distance"
   >(0x300C00F0,3,IS,1)                             "Referenced Control Point Index"
   >(0x30080060,3R,SQ,1,
     >(0x00081070,2C,PN,1:n)                        "Operators' Name"                : PRESENT ../0x30080060
     >(0x30080062,2C,AT,1)                          "Override Parameter Pointer"     : PRESENT ../0x30080060
     >(0x30080066,3,ST,1)                           "Override Reason"
    )                                               "Override Sequence"
   >(0x300A0116,3R,SQ,1,
     >(0x300A0118,1C,CS,1,E,"IN"
                          | "OUT")                  "Wedge Position"                 : PRESENT ../0x300A0116
     >(0x300C00C0,1C,IS,1)                          "Referenced Wedge Number"        : PRESENT ../0x300A0116
    )                                               "Wedge Position Sequence"
  )                                                 "Control Point Delivery Sequence"
 >(0x300800A0,1,SQ,1,
   >(0x300A00B8,1,CS,1,E,"ASYMX"
                       | "ASYMY"
                       | "MLCX"
                       | "MLCY"
                       | "X"
                       | "Y")                       "RT Beam Limiting Device Type"
   >(0x300A00BC,1,IS,1)                             "Number of Leaf/Jaw Pairs"
  )                                                 "Beam Limiting Device Leaf Pairs Sequence"
 >(0x300A00C4,1,CS,1,E,"DYNAMIC"
                     | "STATIC")                    "Beam Type"
 >(0x300A00C6,1,CS,1,D,"ELECTRON"
                     | "NEUTRON"
                     | "PHOTON"
                     | "PROTON")                    "Radiation Type"
 >(0x300A00D0,1,IS,1)                               "Number of Wedges"
 >(0x300A0110,1,IS,1)                               "Number of Control Points"
 >(0x300800B0,1C,SQ,1,
   >(0x300A00D3,2,CS,1,D,"DYNAMIC"
                       | "MOTORIZED"
                       | "STANDARD")                "Wedge Type"
   >(0x300A00D2,3,IS,1)                             "Wedge Number"
   >(0x300A00D4,3,SH,1)                             "Wedge ID"
   >(0x300A00D5,3,IS,1)                             "Wedge Angle"
   >(0x300A00D8,3,DS,1)                             "Wedge Orientation"
   >(0x300A00F9,3,LO,1)                             "Accessory Code"
  )                                                 "Recorded Wedge Sequence"        : NOT VALUE ../0x300A00D0="0"
 >(0x300A00C7,1C,CS,1,D,"HDR"
                      | "NORMAL"
                      | "TBI")                      "High-Dose Technique Type"       : "Required if treatment technique requires a dose that would normally require overriding of treatment machine safety controls."
 >(0x30080022,2,IS,1)                               "Current Fraction Number"
 >(0x3008002C,2,CS,1,E,"NOT_VERIFIED"
                     | "VERIFIED"
                     | "VERIFIED_OVR")              "Treatment Verification Status"
 >(0x300A00CE,2,CS,1,D,"CINTINUATION"
                     | "OPEN_PORTFILM"
                     | "TREATMENT"
                     | "TRMT_PORTFILM")             "Treatment Delivery Type"
 >(0x300A00E0,2,IS,1)                               "Number of Compensators"
 >(0x300A00ED,2,IS,1)                               "Number of Boli"
 >(0x300A00F0,2,IS,1)                               "Number of Blocks"
 >(0x3008002B,3,SH,1)                               "Treatment Termination Code"
 >(0x30080032,3,DS,1)                               "Specified Primary Meterset"
 >(0x30080033,3,DS,1)                               "Specified Secondary Meterset"
 >(0x30080036,3,DS,1)                               "Delivered Primary Meterset"
 >(0x30080037,3,DS,1)                               "Delivered Secondary Meterset"
 >(0x3008003A,3,DS,1)                               "Specified Treatment Time"
 >(0x3008003B,3,DS,1)                               "Delivered Treatment Time"
 >(0x300A00B4,3,DS,1)                               "Source-Axis Distance"
 >(0x300A00C2,3,LO,1)                               "Beam Name"
 >(0x300A00C3,3,ST,1)                               "Beam Description"
 >(0x300C0006,3,IS,1)                               "Referenced Beam Number"
 >(0x300C006A,3,IS,1)                               "Referenced Patient Setup Number"
 >(0x30080080,3R,SQ,1,
   >(0x30080016,1C,DS,1)                            "Measured Dose Value"            : PRESENT ../0x30080080
   >(0x30080082,1C,IS,1)                            "Referenced Measured Dose Reference Number" : WEAK ((PRESENT ../0x30080080 AND NOT PRESENT 0x300C0051), FALSE)
   >(0x300C0051,1C,IS,1)                            "Referenced Dose Reference Number" : WEAK ((PRESENT ../0x30080080 AND NOT PRESENT 0x30080082), FALSE)
  )                                                 "Referenced Measured Dose Reference Sequence"
 >(0x30080090,3R,SQ,1,
   >(0x30080076,1C,DS,1)                            "Calculated Dose Reference Dose Value" : PRESENT ../0x30080090
   >(0x30080092,1C,IS,1)                            "Referenced Calculated Dose Reference Number" : WEAK ((PRESENT ../0x30080090 AND NOT PRESENT 0x300C0051), FALSE)
   >(0x300C0051,1C,IS,1)                            "Referenced Dose Reference Number" : WEAK ((PRESENT ../0x30080090 AND NOT PRESENT 0x30080092), FALSE)
  )                                                 "Referenced Calculated Dose Reference Sequence"
 >(0x300800C0,3R,SQ,1,
   >(0x300C00D0,1C,IS,1)                            "Referenced Compensator Number"  : PRESENT ../0x300800C0
   >(0x300A00EE,2C,CS,1,D,"DYNAMIC"
                        | "STANDARD")               "Compensator Type"               : PRESENT ../0x300800C0
   >(0x300A00E5,3,SH,1)                             "Compensator ID"
   >(0x300A00F9,3,LO,1)                             "Accessory Code"
  )                                                 "Recorded Compensator Sequence"
 >(0x300800D0,3R,SQ,1,
   >(0x300A00FE,2C,LO,1)                            "Block Name"                     : PRESENT ../0x300800D0
   >(0x300A00F5,3,SH,1)                             "Block Tray ID"
   >(0x300A00F9,3,LO,1)                             "Accessory Code"
   >(0x300C00E0,3,IS,1)                             "Referenced Block Number"
  )                                                 "Recorded Block Sequence"
 >(0x300A0107,3R,SQ,1,
   >(0x300A0108,1C,SH,1)                            "Applicator ID"                  : PRESENT ../0x300A0107
   >(0x300A0109,1C,CS,1,D,"ELECTRON_CIRC"
                        | "ELECTRON_OPEN"
                        | "ELECTRON_QSUARE"
                        | "ELECTRON_RECT"
                        | "ELECTRON_SHORT"
                        | "ELECTRON_SQUARE"
                        | "INTRAOPERATIVE"
                        | "STEREOTACTIC")           "Applicator Type"                : PRESENT ../0x300A0107
   >(0x300A00F9,3,LO,1)                             "Accessory Code"
   >(0x300A010A,3,LO,1)                             "Applicator Description"
  )                                                 "Applicator Sequence"
 >(0x300C0040,3R,SQ,1,
   >(0x00081150,1C,UI,1)                            "Referenced SOP Class UID"       : PRESENT ../0x300C0040
   >(0x00081155,1C,UI,1)                            "Referenced SOP Instance UID"    : PRESENT ../0x300C0040
   >(0x30080078,3,DS,1)                             "Start Meterset"
   >(0x3008007A,3,DS,1)                             "End Meterset"
  )                                                 "Referenced Verification Image Sequence"
 >(0x300C00B0,3R,SQ,1,
   >(0x30060084,1C,IS,1)                            "Referenced ROI Number"          : PRESENT ../0x300C00B0
   >(0x300A00F9,3,LO,1)                             "Accessory Code"
  )                                                 "Referenced Bolus Sequence"
)                                                   "Treatment Session Beam Sequence"
(0x300A00B3,1,CS,1,E,"MINUTE"
                   | "MU")                          "Primary Dosimeter Unit"
(0x00081070,2,PN,1:n)                               "Operators' Name"
(0x300A0078,2,IS,1)                                 "Number of Fractions Planned"
(0x300C0022,3,IS,1)                                 "Referenced Fraction Group Number"

MODULE "RT Patient Setup Module" U
(0x300A0180,1,SQ,1,
 >(0x300A0182,1,IS,1)                               "Patient Setup Number"
 >(0x00185100,1C,CS,1)                              "Patient Position"               : NOT PRESENT 0x300A0184
 >(0x300A0184,1C,LO,1)                              "Patient Additional Position"    : NOT PRESENT 0x00185100
 >(0x300A01B0,3,CS,1,D,"BREAST_BRIDGE"
                     | "FIXED_SSD"
                     | "ISOCENTRIC"
                     | "SKIN_APPOSITION"
                     | "TBI")                       "Setup Technique"
 >(0x300A01B2,3,ST,1)                               "Setup Technique Description"
 >(0x300A01D2,3,DS,1)                               "Table Top Vertical Setup Displacement"
 >(0x300A01D4,3,DS,1)                               "Table Top Longitudinal Setup Displacement"
 >(0x300A01D6,3,DS,1)                               "Table Top Lateral Setup Displacement"
 >(0x300A0190,3R,SQ,1,
   >(0x300A0192,1C,CS,1,D,"BITEBLOCK"
                        | "BODY_FRAME"
                        | "BREAST_BOARD"
                        | "CAST"
                        | "HEADFRAME"
                        | "HEADREST"
                        | "MASK"
                        | "MOLD"
                        | "VACUUM_MOLD")            "Fixation Device Type"           : PRESENT ../0x300A0190
   >(0x300A0194,2C,SH,1)                            "Fixation Device Label"          : PRESENT ../0x300A0190
   >(0x300A00F9,3,LO,1)                             "Accessory Code"
   >(0x300A0196,3,ST,1)                             "Fixation Device Description"
   >(0x300A0198,3,SH,1)                             "Fixation Device Position"
  )                                                 "Fixation Device Sequence"
 >(0x300A01A0,3R,SQ,1,
   >(0x300A01A2,1C,CS,1,D,"EYE"
                        | "GONAD"
                        | "GUM")                    "Shielding Device Type"          : PRESENT ../0x300A01A0
   >(0x300A01A4,2C,SH,1)                            "Shielding Device Label"         : PRESENT ../0x300A01A0
   >(0x300A00F9,3,LO,1)                             "Accessory Code"
   >(0x300A01A6,3,ST,1)                             "Shielding Device Description"
   >(0x300A01A8,3,SH,1)                             "Shielding Device Position"
  )                                                 "Shielding Device Sequence"
 >(0x300A01B4,3R,SQ,1,
   >(0x300A01B6,1C,CS,1,D,"ARC"
                        | "DISTANCE_METER"
                        | "LASER_POINTER"
                        | "MECHANICAL_PTR"
                        | "TABLE_HEIGHT")           "Setup Device Type"              : PRESENT ../0x300A01B4
   >(0x300A01B8,2C,SH,1)                            "Setup Device Label"             : PRESENT ../0x300A01B4
   >(0x300A01BC,2C,DS,1)                            "Setup Device Parameter"         : PRESENT ../0x300A01B4
   >(0x300A01BA,3,ST,1)                             "Setup Device Description"
   >(0x300A01D0,3,ST,1)                             "Setup Reference Description"
  )                                                 "Setup Device Sequence"
)                                                   "Patient Setup Sequence"

MODULE "RT Treatment Machine Record Module" M
(0x300A0206,1,SQ,1,
 >(0x300A00B2,2,SH,1)                               "Treatment Machine Name"
 >(0x00080070,3,LO,1)                               "Manufacturer"
 >(0x00080080,3,LO,1)                               "Institution Name"
 >(0x00080081,3,ST,1)                               "Institution Address"
 >(0x00081040,3,LO,1)                               "Institutional Department Name"
 >(0x00081090,3,LO,1)                               "Manufacturer's Model Name"
 >(0x00181000,3,LO,1)                               "Device Serial Number"
)                                                   "Treatment Machine Sequence"

MODULE "Measured Dose Reference Record Module" U
(0x30080010,1,SQ,1,
 >(0x30040002,1,CS,1)                               "Dose Units"
 >(0x30080064,1C,IS,1)                              "Measured Dose Reference Number" : WEAK (NOT PRESENT 0x300C0051, FALSE)
 >(0x300C0051,1C,IS,1)                              "Referenced Dose Reference Number" : WEAK (NOT PRESENT 0x30080064, FALSE)
 >(0x30080014,2,CS,1,D,"DIODE"
                     | "EPID"
                     | "FILM"
                     | "GEL"
                     | "ION_CHAMBER"
                     | "TLD")                       "Measured Dose Type"
 >(0x30080016,2,DS,1)                               "Measured Dose Value"
 >(0x30080012,3,ST,1)                               "Measured Dose Description"
)                                                   "Measured Dose Reference Sequence"

MODULE "RT Series Module" M
(0x00080060,1,CS,1,E,"RTDOSE"
                   | "RTIMAGE"
                   | "RTPLAN"
                   | "RTRECORD"
                   | "RTSTRUCT")                    "Modality"
(0x0020000E,1,UI,1)                                 "Series Instance UID"
(0x00200011,2,IS,1)                                 "Series Number"
(0x0008103E,3,LO,1)                                 "Series Description"
(0x00081111,3,SQ,1,
 >(0x00081150,1C,UI,1)                              "Referenced SOP Class UID"       : PRESENT ../0x00081111
 >(0x00081155,1C,UI,1)                              "Referenced SOP Instance UID"    : PRESENT ../0x00081111
)                                                   "Referenced Performed Procedure Step Sequence"
(0x00400244,3,DA,1)                                 "Performed Procedure Step Start Date"
(0x00400245,3,TM,1)                                 "Performed Procedure Step Start Time"
(0x00400253,3,SH,1)                                 "Performed Procedure Step ID"
(0x00400254,3,LO,1)                                 "Performed Procedure Step Description"
(0x00400260,3,SQ,1,
 >(0x00400440,3R,SQ,1,
   >(0x00400441,3,SQ,1,
     >INCLUDEMACRO                                  "Content Item Macro"
    )                                               "Content Item Modifier Sequence"
   >INCLUDEMACRO                                    "Content Item Macro"
  )                                                 "Protocol Context Sequence"
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined)"
)                                                   "Performed Protocol Code Sequence"
(0x00400275,3,SQ,1,
 >(0x00400009,1C,SH,1)                              "Scheduled Procedure Step ID"    : PRESENT ../0x00400275
 >(0x00401001,1C,SH,1)                              "Requested Procedure ID"         : PRESENT ../0x00400275
 >(0x00400007,3,LO,1)                               "Scheduled Procedure Step Description"
 >(0x00401002,3,LO,1)                               "Reason for the Requested Procedure"
 >(0x0040100A,3,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (Baseline CID is not defined)"
  )                                                 "Reason for Requested Procedure Code Sequence"
 >(0x00400008,3R,SQ,1,
   >(0x00400440,3R,SQ,1,
     >(0x00400441,3,SQ,1,
       >INCLUDEMACRO                                "Content Item Macro"
      )                                             "Content Item Modifier Sequence"
     >INCLUDEMACRO                                  "Content Item Macro"
    )                                               "Protocol Context Sequence"
   >INCLUDEMACRO                                    "Code Sequence Macro (Baseline CID is not defined)"
  )                                                 "Scheduled Protocol Code Sequence"
)                                                   "Request Attributes Sequence"

MODULE "RT General Treatment Record Module" M
(0x00200013,1,IS,1)                                 "Instance Number"
(0x30080250,2,DA,1)                                 "Treatment Date"
(0x30080251,2,TM,1)                                 "Treatment Time"
(0x300C0002,2,SQ,1,
 >(0x00081150,1C,UI,1)                              "Referenced SOP Class UID"       : PRESENT ../0x300C0002
 >(0x00081155,1C,UI,1)                              "Referenced SOP Instance UID"    : PRESENT ../0x300C0002
)                                                   "Referenced RT Plan Sequence"
(0x30080030,3,SQ,1,
 >(0x00081150,1,UI,1)                               "Referenced SOP Class UID"
 >(0x00081155,1,UI,1)                               "Referenced SOP Instance UID"
)                                                   "Referenced Treatment Record Sequence"

MODULE "RT Treatment Summary Record Module" U
(0x30080200,1,CS,1,E,"COMPLETED"
                   | "NOT_STARTED"
                   | "ON_BREAK"
                   | "ON_TREATMENT"
                   | "STOPPED"
                   | "SUSPENSED")                   "Current Treatment Status"
(0x30080054,2,DA,1)                                 "First Treatment Date"
(0x30080056,2,DA,1)                                 "Most Recent Treatment Date"
(0x30080050,3,SQ,1,
 >(0x30080052,1,DS,1)                               "Cumulative Dose to Dose Reference"
 >(0x300A0016,3,LO,1)                               "Dose Reference Description"
 >(0x300C0051,3,IS,1)                               "Referenced Dose Reference Number"
)                                                   "Treatment Summary Calculated Dose Reference Sequence"
(0x300800E0,3,SQ,1,
 >(0x30080052,1,DS,1)                               "Cumulative Dose to Dose Reference"
 >(0x300A0016,3,LO,1)                               "Dose Reference Description"
 >(0x300C0051,3,IS,1)                               "Referenced Dose Reference Number"
)                                                   "Treatment Summary Measured Dose Reference Sequence"
(0x30080202,3,ST,1)                                 "Treatment Status Comment"
(0x30080220,3,SQ,1,
 >(0x3008005A,2,IS,1)                               "Number of Fractions Delivered"
 >(0x30080224,2,CS,1,E,"BRACHY"
                     | "EXTERNAL_BEAM")             "Fraction Group Type"
 >(0x300A0078,2,IS,1)                               "Number of Fractions Planned"
 >(0x30080240,3,SQ,1,
   >(0x30080223,1,IS,1)                             "Referenced Fraction Number"
   >(0x3008002A,2,CS,1,E,"MACHINE"
                       | "NORMAL"
                       | "OPERATOR"
                       | "UNKNOWN")                 "Treatment Termination Status"
   >(0x30080250,2,DA,1)                             "Treatment Date"
   >(0x30080251,2,TM,1)                             "Treatment Time"
  )                                                 "Fraction Status Summary Sequence"
 >(0x300C0022,3,IS,1)                               "Referenced Fraction Group Number"
)                                                   "Fraction Group Summary Sequence"

MODULE "Calculated Dose Reference Record Module" U
(0x30080070,1,SQ,1,
 >(0x30080072,1C,IS,1)                              "Calculated Dose Reference Number" : WEAK (NOT PRESENT 0x300C0051, FALSE)
 >(0x300C0051,1C,IS,1)                              "Referenced Dose Reference Number" : WEAK (NOT PRESENT 0x30080072, FALSE)
 >(0x30080076,2,DS,1)                               "Calculated Dose Reference Dose Value"
 >(0x30080074,3,ST,1)                               "Calculated Dose Reference Description"
)                                                   "Calculated Dose Reference Sequence"
ENDDEFINE

#
# Definition of the RT Beams Treatment Record Storage SOP Class
#
DEFINE C-STORE-RSP "RT Beams Treatment Record"

SOPCLASS "1.2.840.10008.5.1.4.1.1.481.4" "RT Beams Treatment Record Storage SOP Class"
ENDDEFINE

################################################################################
# MACRO DEFINITIONS
################################################################################


DEFINE MACRO "Code Sequence Macro (Baseline CID is not defined)"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Content Item Macro"
(0x0040A040,1,CS,1,D,"CODE"
                   | "DATE"
                   | "DATETIME"
                   | "NUMERIC"
                   | "PNAME"
                   | "TEXT"
                   | "TIME"
                   | "UIDREF")                      "Value Type"
(0x0040A043,1,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined)"
)                                                   "Concept Name Code Sequence"
(0x004008EA,1C,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (ID=CID 82)"
)                                                   "Measurement Units Code Sequence" : VALUE 0x0040A040 = "NUMERIC"
(0x0040A120,1C,DT,1)                                "DateTime"                       : VALUE 0x0040A040 = "DATETIME"
(0x0040A121,1C,DA,1)                                "Date"                           : VALUE 0x0040A040 = "DATE"
(0x0040A122,1C,TM,1)                                "Time"                           : VALUE 0x0040A040 = "TIME"
(0x0040A123,1C,PN,1)                                "Person Name"                    : VALUE 0x0040A040 = "PNAME"
(0x0040A124,1C,UI,1)                                "UID"                            : VALUE 0x0040A040 = "UIDREF"
(0x0040A160,1C,UT,1)                                "Text Value"                     : VALUE 0x0040A040 = "TEXT"
(0x0040A168,1C,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined)"
)                                                   "Concept Code Sequence"          : VALUE 0x0040A040 = "CODE"
(0x0040A30A,1C,DS,1:n)                              "Numeric Value"                  : VALUE 0x0040A040 = "NUMERIC"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 82)"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Digital Signatures Macro"
(0xFFFAFFFA,3,SQ,1,
 >(0x04000005,1,US,1)                               "MAC ID Number"
 >(0x04000100,1,UI,1)                               "Dignital Signature UID"
 >(0x04000105,1,DT,1)                               "Dignital Signature DateTime"
 >(0x04000110,1,CS,1,D,"X509_1993_SIG")             "Certificate Type"
 >(0x04000115,1,OB,1)                               "Certificate of Signer"
 >(0x04000120,1,OB,1)                               "Signature"
 >(0x04000310,1,OB,1)                               "Certified Timestamp"
 >(0x04000305,1C,CS,1,D,"CMS_TSP")                  "Certified Timestamp Type"       : PRESENT 0x04000310
)                                                   "Digital Signatures Sequence"
(0x4FFE0001,3R,SQ,1,
 >(0x04000005,1,US,1)                               "MAC ID Number"
 >(0x04000010,1,UI,1)                               "MAC Calculation Transfer Syntax UID"
 >(0x04000015,1,CS,1,D,"MD5"
                     | "RIPEMD160"
                     | "SHA1")                      "MAC Algorithm"
 >(0x04000020,1,AT,1:n)                             "Data Elements Signed"
)                                                   "MAC Parameters Sequence"
ENDDEFINE

DEFINE MACRO "Person Identification Macro"
(0x00401101,1,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined)"
)                                                   "Person Identification Code Sequence"
(0x00080080,1C,LO,1)                                "Institution Name"               : NOT PRESENT 0x00080082
(0x00080082,1C,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined)"
)                                                   "Institution Code Sequence"      : NOT PRESENT 0x00080080
(0x00080081,3,ST,1)                                 "Institution Address"
(0x00401102,3,ST,1)                                 "Person's Adress"
(0x00401103,3,LO,1:n)                               "Person's Telephone Numbers"
ENDDEFINE

################################################################################
# COMMAND DEFINITIONS
################################################################################


DEFINE C-STORE-RQ
(0x00000000,1,UL,1)                                 "Group 0000 Length"
(0x00000002,1,UI,1)                                 "Affected SOP Class UID"
(0x00000100,1,US,1,E,0x0001)                        "Command Field"
(0x00000110,1,US,1)                                 "Message ID"
(0x00000700,1,US,1,E,0x0000
                   | 0x0001
                   | 0x0002)                        "Priority"
(0x00000800,1,US,1)                                 "Data Set Type"
(0x00001030,1C,AE,1)                                "Move Originator AE Title"
(0x00001031,1C,US,1)                                "Move Originator Message ID"
(0x00001000,3,UI,1)                                 "Affected SOP Instance UID"
ENDDEFINE

DEFINE C-STORE-RSP
(0x00000000,1,UL,1)                                 "Group 0000 Length"
(0x00000002,1,UI,1)                                 "Affected SOP Class UID"
(0x00000100,1,US,1,E,0x8001)                        "Command Field"
(0x00000120,1,US,1)                                 "Message ID Being Responded To"
(0x00000800,1,US,1,E,0x0101)                        "Data Set Type"
(0x00000900,1,US,1)                                 "Status"
(0x00000901,3,AT,1:n)                               "Offending Element"
(0x00000902,3,LO,1)                                 "Error Comment"
(0x00000903,3,US,1)                                 "Error ID"
(0x00001000,3,UI,1)                                 "Affected SOP Instance UID"
(0x00001005,3,AT,1:n)                               "Attribute Identifier List"
ENDDEFINE