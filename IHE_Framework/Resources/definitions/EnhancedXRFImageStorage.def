#
#Generated by odd2def on: Mon Mar 20 12:54:54 2006#
#

DEFINE SYSTEM "DICOM" "3.0"
"DICOM" "3.0"
ENDDEFINE


#
# Definition of the Enhanced XRF Image Storage
#
DEFINE C-STORE-RQ "Enhanced XRF Image"

SOPCLASS "1.2.840.10008.5.1.4.1.1.12.2.1" "Enhanced XRF Image Storage"

MODULE "Patient Module" M
(0x00100010,2,PN,1)                                 "Patient's Name"
(0x00100020,2,LO,1)                                 "Patient ID"
(0x00100030,2,DA,1)                                 "Patient's Birth Date"
(0x00100040,2,CS,1,E,"F"
                   | "M"
                   | "O")                           "Patient's Sex"
(0x00100021,3,LO,1)                                 "Issuer of Patient ID"
(0x00100032,3,TM,1)                                 "Patient's Birth Time"
(0x00101000,3,LO,1:n)                               "Other Patient IDs"
(0x00101001,3,PN,1:n)                               "Other Patient Names"
(0x00102160,3,SH,1)                                 "Ethnic Group"
(0x00104000,3,LT,1)                                 "Patient Comments"
(0x00081120,3R,SQ,1,
 >(0x00081150,1C,UI,1,E,"1.2.840.10008.3.1.2.1.1")  "Referenced SOP Class UID"       : PRESENT ../0x00081120
 >(0x00081155,1C,UI,1)                              "Referenced SOP Instance UID"    : PRESENT ../0x00081120
)                                                   "Referenced Patient Sequence"

MODULE "General Study Module" M
(0x0020000D,1,UI,1)                                 "Study Instance UID"
(0x00080020,2,DA,1)                                 "Study Date"
(0x00080030,2,TM,1)                                 "Study Time"
(0x00080050,2,SH,1)                                 "Accession Number"
(0x00080090,2,PN,1)                                 "Referring Physician's Name"
(0x00200010,2,SH,1)                                 "Study ID"
(0x00081030,3,LO,1)                                 "Study Description"
(0x00081048,3,PN,1:n)                               "Physician(s) of Record"
(0x00081060,3,PN,1:n)                               "Name of Physician(s) Reading Study"
(0x00081110,3,SQ,1,
 >(0x00081150,1C,UI,1)                              "Referenced SOP Class UID"       : PRESENT ../0x00081110
 >(0x00081155,1C,UI,1)                              "Referenced SOP Instance UID"    : PRESENT ../0x00081110
)                                                   "Referenced Study Sequence"
(0x00080096,3R,SQ,1,
 >INCLUDEMACRO                                      "Person Identification Macro Enhanced XRF Image C-STORE SCU"
)                                                   "Referring Physician Identification Sequence"
(0x00081032,3R,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
)                                                   "Procedure Code Sequence"
(0x00081049,3R,SQ,1,
 >INCLUDEMACRO                                      "Person Identification Macro Enhanced XRF Image C-STORE SCU"
)                                                   "Physician(s) of Record Identification Sequence"
(0x00081062,3R,SQ,1,
 >INCLUDEMACRO                                      "Person Identification Macro Enhanced XRF Image C-STORE SCU"
)                                                   "Physician(s) Reading Study Identification Sequence"

MODULE "Patient Study Module" U
(0x00081080,3,LO,1:n)                               "Admitting Diagnoses Description"
(0x00081084,3,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
)                                                   "Admitting Diagnosis Code Sequence"
(0x00101010,3,AS,1)                                 "Patient's Age"
(0x00101020,3,DS,1)                                 "Patient's Size"
(0x00101030,3,DS,1)                                 "Patient's Weight"
(0x00102180,3,SH,1)                                 "Occupation"
(0x001021B0,3,LT,1)                                 "Additional Patient History"

MODULE "Clinical Trial Study Module" U
(0x00120050,2,LO,1)                                 "Clinical Trial Time Point ID"
(0x00120051,3,ST,1)                                 "Clinical Trial Time Point Description"

MODULE "Clinical Trial Subject Module" U
(0x00120010,1,LO,1)                                 "Clinical Trial Sponsor Name"
(0x00120020,1,LO,1)                                 "Clinical Trial Protocol ID"
(0x00120040,1C,LO,1)                                "Clinical Trial Subject ID"      : WEAK ((NOT PRESENT 0x00120042), TRUE)
(0x00120042,1C,LO,1)                                "Clinical Trial Subject Reading ID" : WEAK ((NOT PRESENT 0x00120040), TRUE)
(0x00120021,2,LO,1)                                 "Clinical Trial Protocol Name"
(0x00120030,2,LO,1)                                 "Clinical Trial Site ID"
(0x00120031,2,LO,1)                                 "Clinical Trial Site Name"

MODULE "General Series Module" M
(0x00080060,1,CS,1,D,"AU"
                   | "BI"
                   | "CD"
                   | "CR"
                   | "CT"
                   | "DD"
                   | "DG"
                   | "DX"
                   | "ECG"
                   | "EPS"
                   | "ES"
                   | "GM"
                   | "HC"
                   | "HD"
                   | "IO"
                   | "IVUS"
                   | "LS"
                   | "MG"
                   | "MR"
                   | "NM"
                   | "OP"
                   | "OT"
                   | "PR"
                   | "PT"
                   | "PX"
                   | "RF"
                   | "RG"
                   | "RTDOSE"
                   | "RTIMAGE"
                   | "RTPLAN"
                   | "RTRECORD"
                   | "RTSTRUCT"
                   | "SM"
                   | "SMR"
                   | "SR"
                   | "ST"
                   | "TG"
                   | "US"
                   | "XA"
                   | "XC")                          "Modality"
(0x0020000E,1,UI,1)                                 "Series Instance UID"
(0x00200011,2,IS,1)                                 "Series Number"
(0x00185100,2C,CS,1,D,"FFDL"
                    | "FFDR"
                    | "FFP"
                    | "FFS"
                    | "HFDL"
                    | "HFDR"
                    | "HFP"
                    | "HFS")                        "Patient Position"               : WEAK(((VALUE 0x00080060 = "CT" OR VALUE 0x00080060 = "MR") AND NOT PRESENT 0x00540410),NOT PRESENT 0x00540410)
(0x00200060,2C,CS,1,E,"L"
                    | "R")                          "Laterality"                     : " Laterality of (paired) body part examined. Required if the body part examined is a paired structure."
(0x00080021,3,DA,1)                                 "Series Date"
(0x00080031,3,TM,1)                                 "Series Time"
(0x0008103E,3,LO,1)                                 "Series Description"
(0x00081050,3,PN,1:n)                               "Performing Physician's Name"
(0x00081070,3,PN,1:n)                               "Operators' Name"
(0x00081111,3,SQ,1,
 >(0x00081150,1C,UI,1)                              "Referenced SOP Class UID"       : PRESENT ../0x00081111
 >(0x00081155,1C,UI,1)                              "Referenced SOP Instance UID"    : PRESENT ../0x00081111
)                                                   "Referenced Performed Procedure Step Sequence"
(0x00081250,3,SQ,1,
 >(0x0020000D,1,UI,1)                               "Study Instance UID"
 >(0x0020000E,1,UI,1)                               "Series Instance UID"
 >(0x0040A170,2,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 7210) Enhanced XRF Image C-STORE SCU"
  )                                                 "Purpose of Reference Code Sequence"
)                                                   "Related Series Sequence"
(0x00180015,3,CS,1,D,"ABDOMEN"
                   | "ANKLE"
                   | "ARM"
                   | "BREAST"
                   | "CHEST"
                   | "CLAVICLE"
                   | "COCCYX"
                   | "CSPINE"
                   | "ELBOW"
                   | "EXTREMITY"
                   | "FOOT"
                   | "HAND"
                   | "HEAD"
                   | "HEART"
                   | "HIP"
                   | "JAW"
                   | "KNEE"
                   | "LEG"
                   | "LSPINE"
                   | "NECK"
                   | "PELVIS"
                   | "SHOULDER"
                   | "SKULL"
                   | "SSPINE"
                   | "TSPINE")                      "Body Part Examined"
(0x00181030,3,LO,1)                                 "Protocol Name"
(0x00280108,3,US/SS,1)                              "Smallest Pixel Value in Series"
(0x00280109,3,US/SS,1)                              "Largest Pixel Value in Series"
(0x00400244,3,DA,1)                                 "Performed Procedure Step Start Date"
(0x00400245,3,TM,1)                                 "Performed Procedure Step Start Time"
(0x00400253,3,SH,1)                                 "Performed Procedure Step ID"
(0x00400254,3,LO,1)                                 "Performed Procedure Step Description"
(0x00400280,3,ST,1)                                 "Comments on the Performed Procedure Step"
(0x00081052,3R,SQ,1,
 >INCLUDEMACRO                                      "Person Identification Macro Enhanced XRF Image C-STORE SCU"
)                                                   "Performing Physician Identification Sequence"
(0x00081072,3R,SQ,1,
 >INCLUDEMACRO                                      "Person Identification Macro Enhanced XRF Image C-STORE SCU"
)                                                   "Operator Identification Sequence" : " INFO (If more than one Item, The number and order shall correspond to the value of Operatorss Name)"
(0x00400260,3R,SQ,1,
 >(0x00400440,3R,SQ,1,
   >(0x00400441,3,SQ,1,
     >INCLUDEMACRO                                  "Content Item Macro Enhanced XRF Image C-STORE SCU"
    )                                               "Content Item Modifier Sequence"
   >INCLUDEMACRO                                    "Content Item Macro Enhanced XRF Image C-STORE SCU"
  )                                                 "Protocol Context Sequence"
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
)                                                   "Performed Protocol Code Sequence"
(0x00400275,3R,SQ,1,
 >(0x00400009,1C,SH,1)                              "Scheduled Procedure Step ID"    : PRESENT ../0x00400275
 >(0x00401001,1C,SH,1)                              "Requested Procedure ID"         : PRESENT ../0x00400275
 >(0x00400007,3,LO,1)                               "Scheduled Procedure Step Description"
 >(0x00401002,3,LO,1)                               "Reason for the Requested Procedure"
 >(0x0040100A,3,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
  )                                                 "Reason for Requested Procedure Code Sequence"
 >(0x00400008,3R,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
  )                                                 "Scheduled Protocol Code Sequence"
)                                                   "Request Attributes Sequence"

MODULE "Clinical Trial Series Module" U
(0x00120060,2,LO,1)                                 "Clinical Trial Coordinating Center Name"

MODULE "Frame of Reference Module" U
(0x00200052,1,UI,1)                                 "Frame of Reference UID"
(0x00201040,2,LO,1)                                 "Position Reference Indicator"

MODULE "Synchronization Module" U
(0x0018106A,1,CS,1,E,"EXTERNAL"
                   | "NO TRIGGER"
                   | "PASSTHRU"
                   | "SOURCE")                      "Synchronization Trigger"
(0x00181800,1,CS,1,E,"N"
                   | "Y")                           "Acquisition Time Synchronized"
(0x00200200,1,UI,1)                                 "Synchronization Frame of Reference UID"
(0x0018106C,1C,US,2)                                "Synchronization Channel"        : "Required if synchronization channel or trigger is encoded in a waveform in this SOP Instance"
(0x00181061,3,LO,1)                                 "Trigger Source or Type"
(0x00181801,3,SH,1)                                 "Time Source"
(0x00181802,3,CS,1,D,"GPS"
                   | "IRIG"
                   | "NTP"
                   | "SNTP")                        "Time Distribution Protocol"
(0x00181803,3,LO,1)                                 "NTP Source Address"

MODULE "Specimen Identification Module" U
(0x0040050A,1,LO,1)                                 "Specimen Accession Number"
(0x00400550,2,SQ,1,
 >(0x00400551,2,LO,1)                               "Specimen Identifier"
 >(0x0040059A,2C,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
  )                                                 "Specimen Type Code Sequence"    : PRESENT ../0x00400550/0x00400551
 >(0x004006FA,2C,LO,1)                              "Slide Identifier"               : "Required if a sequence item is present and the Specimen is a Slide"
)                                                   "Specimen Sequence"

MODULE "General Equipment Module" M
(0x00080070,2,LO,1)                                 "Manufacturer"
(0x00080080,3,LO,1)                                 "Institution Name"
(0x00080081,3,ST,1)                                 "Institution Address"
(0x00081010,3,SH,1)                                 "Station Name"
(0x00081040,3,LO,1)                                 "Institutional Department Name"
(0x00081090,3,LO,1)                                 "Manufacturer's Model Name"
(0x00181000,3,LO,1)                                 "Device Serial Number"
(0x00181020,3,LO,1:n)                               "Software Version(s)"
(0x00181050,3,DS,1)                                 "Spatial Resolution"
(0x00181200,3,DA,1:n)                               "Date of Last Calibration"
(0x00181201,3,TM,1:n)                               "Time of Last Calibration"
(0x00280120,3,US/SS,1)                              "Pixel Padding Value"

MODULE "Image Pixel Module" M
INCLUDEMACRO                                        "Image Pixel Macro Enhanced XRF Image C-STORE SCU"

MODULE "Enhanced Contrast/Bolus Module" C
(0x00180012,1,SQ,1,
 >(0x00180014,1,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 11) Enhanced XRF Image C-STORE SCU"
  )                                                 "Contrast/Bolus Administration Route Sequence"
 >(0x00189337,1,US,1)                               "Contrast/Bolus Agent Number"
 >(0x00181041,2,DS,1)                               "Contrast/Bolus Volume"
 >(0x00181049,2,DS,1)                               "Contrast/Bolus Ingredient Concentration"
 >(0x00189338,2,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 13) Enhanced XRF Image C-STORE SCU"
  )                                                 "Contrast/Bolus Ingredient Code Sequence"
 >(0x00189340,3,SQ,1,
   >(0x00181041,2,DS,1)                             "Contrast/Bolus Volume"
   >(0x00181042,3,TM,1)                             "Contrast/Bolus Start Time"
   >(0x00181043,3,TM,1)                             "Contrast/Bolus Stop Time"
   >(0x00181046,3,DS,1:n)                           "Contrast Flow Rate"
   >(0x00181047,3,DS,1:n)                           "Contrast Flow Duration"
  )                                                 "Contrast Administration Profile Sequence"
 >INCLUDEMACRO                                      "Code Sequence Macro (ID=CID 12) Enhanced XRF Image C-STORE SCU"
)                                                   "Contrast/Bolus Agent Sequence"

MODULE "Mask Module" U
(0x00286100,1,SQ,1,
 >(0x00286101,1,CS,1,D,"AVG_SUB"
                     | "NONE"
                     | "REV_TID"
                     | "TID")                       "Mask Operation"
 >(0x00286102,1C,US,2:2n)                           "Applicable Frame Range"         : WEAK ((VALUE 0x00286101="REV_TID"),TRUE)
 >(0x00286110,1C,US,1:n)                            "Mask Frame Numbers"             : VALUE 0x00286101 = "AVG_SUB"
 >(0x00289416,1C,US,1)                              "Subtraction Item ID"            : WEAK (((VALUE 0x00080016="1.2.840.10008.5.1.4.1.1.12.1.1") OR (VALUE 0x00080016="1.2.840.10008.5.1.4.1.1.12.2.1")),TRUE)
 >(0x00286120,2C,SS,1)                              "TID Offset"                     : (VALUE 0x00286101 = "TID") OR (VALUE 0x00286101="REV_TID")
 >(0x00286112,3,US,1)                               "Contrast Frame Averaging"
 >(0x00286114,3,FL,2)                               "Mask Sub-pixel Shift"
 >(0x00286190,3,ST,1)                               "Mask Operation Explanation"
 >(0x00289454,3,CS,1,D,"SYSTEM"
                     | "USER")                      "Mask Selection Mode"
)                                                   "Mask Subtraction Sequence"
(0x00281090,2,CS,1,E,"NAT"
                   | "SUB")                         "Recommended Viewing Mode"

MODULE "Device Module" U
(0x00500010,3,SQ,1,
 >(0x00500017,2C,CS,1,D,"FR"
                      | "GA"
                      | "IN"
                      | "MM")                       "Device Diameter Units"          : WEAK ((PRESENT 0x00500016), (PRESENT ../0x00500010))
 >(0x00500014,3C,DS,1)                              "Device Length"                  : PRESENT ../0x00500010
 >(0x00500016,3C,DS,1)                              "Device Diameter"                : PRESENT ../0x00500010
 >(0x00500018,3C,DS,1)                              "Device Volume"                  : PRESENT ../0x00500010
 >(0x00500019,3C,DS,1)                              "Inter-marker Distance"          : PRESENT ../0x00500010
 >(0x00500020,3C,LO,1)                              "Device Description"             : PRESENT ../0x00500010
 >INCLUDEMACRO                                      "Code Sequence Macro (ID=CID 8) Enhanced XRF Image C-STORE SCU"
)                                                   "Device Sequence"

MODULE "Intervention Module" U
(0x00180036,3,SQ,1,
 >(0x00180038,2,CS,1,E,"INTERMEDIATE"
                     | "NONE"
                     | "POST"
                     | "PRE")                       "Intervention Status"
 >(0x00180027,3,TM,1)                               "Intervention Drug Stop Time"
 >(0x00180035,3,TM,1)                               "Intervention Drug Start Time"
 >(0x0018003A,3,ST,1)                               "Intervention Description"
 >(0x00540302,3,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 11) Enhanced XRF Image C-STORE SCU"
  )                                                 "Administration Route Code Sequence"
 >(0x00180029,3R,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 10) Enhanced XRF Image C-STORE SCU"
  )                                                 "Intervention Drug Sequence"
 >INCLUDEMACRO                                      "Code Sequence Macro (ID=CID 9) Enhanced XRF Image C-STORE SCU"
)                                                   "Intervention Sequence"

MODULE "Acquisition Context Module" M
(0x00400555,2,SQ,1,
 >(0x0040A043,1,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
  )                                                 "Concept Name Code Sequence"
 >(0x004008EA,1C,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 82) Enhanced XRF Image C-STORE SCU"
  )                                                 "Measurement Units Code Sequence" : WEAK (PRESENT 0x0040A30A, FALSE)
 >(0x0040A121,1C,DA,1)                              "Date"                           : WEAK (((PRESENT 0x0040A043) AND (NOT(PRESENT 0x0040A122 OR PRESENT 0x0040A123 OR PRESENT 0x0040A30A OR PRESENT 0x004008EA))), FALSE)
 >(0x0040A122,1C,TM,1)                              "Time"                           : WEAK (((PRESENT 0x0040A043) AND(NOT(PRESENT 0x0040A121 OR PRESENT 0x0040A123 OR PRESENT 0x004008EA OR PRESENT 0x0040A30A))), FALSE)
 >(0x0040A123,1C,PN,1)                              "Person Name"                    : WEAK (((PRESENT 0x0040A043) AND(NOT(PRESENT 0x0040A121 OR PRESENT 0x0040A122 OR PRESENT 0x0040A30A OR PRESENT 0x004008EA))),FALSE)
 >(0x0040A136,1C,US,1:n)                            "Referenced Frame Numbers"       : "Required if this SOP Instance is a Multi-frame SOP Instace and the values in this sequence item do not apply to all frames"
 >(0x0040A160,1C,UT,1)                              "Text Value"                     : WEAK ((PRESENT 0x0040A043 AND (PRESENT 0x0040A122 OR PRESENT 0x0040A121 OR PRESENT 0x0040A123) AND (NOT(PRESENT 0x004008EA OR PRESENT 0x0040A30A))), FALSE)
 >(0x0040A168,1C,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
  )                                                 "Concept Code Sequence"          : NOT PRESENT 0x004008EA AND NOT PRESENT 0x0040A30A AND NOT PRESENT 0x0040A160 AND NOT PRESENT 0x0040A123 AND NOT PRESENT 0x0040A121 AND NOT PRESENT 0x0040A122
 >(0x0040A30A,1C,DS,1:n)                            "Numeric Value"                  : WEAK (((PRESENT 0x0040A043) AND(NOT(PRESENT 0x0040A121 OR PRESENT 0x0040A122 OR PRESENT 0x0040A123))),FALSE)
)                                                   "Acquisition Context Sequence"
(0x00400556,3,ST,1)                                 "Acquisition Context Description"

MODULE "Multi-frame Dimension Module" U
(0x00209221,2,SQ,1,
 >(0x00209164,1,UI,1)                               "Dimension Organization UID"
 >(0x00209421,3,LO,1)                               "Dimension Description Label"
)                                                   "Dimension Organization Sequence"
(0x00209222,2,SQ,1,
 >(0x00209165,1,AT,1)                               "Dimension Index Pointer"
 >(0x00209164,1C,UI,1)                              "Dimension Organization UID"     : NOT EMPTY ../0x00209222
 >(0x00209167,1C,AT,1)                              "Functional Group Pointer"       : "Required if the value of the Dimension Index pointer (0020,9165) is the Data Element Tag of an Attribute that is contained within a Functional Group Sequence"
 >(0x00209213,1C,LO,1)                              "Dimension Index Private Creator" : "Required if the Dimension Index Pointer (0020,9165) value is the Data Element Tag of a Private Attribute"
 >(0x00209238,1C,LO,1)                              "Functional Group Private Creator" : "Required if the Dimension Index Pointer (0020,9165) value is the Data Element Tag of a Private Attribute"
)                                                   "Dimension Index Sequence"

MODULE "Cardiac Synchronization Module" C
(0x00189037,1C,CS,1,E,"NONE"
                    | "PACED"
                    | "PROSPECTIVE"
                    | "REALTIME"
                    | "RETROSPECTIVE")              "Cardiac Synchronization Technique" : WEAK ((VALUE 0x00080008 1="ORIGINAL"  OR VALUE 0x00080008 1="MIXED"), TRUE)
(0x00189070,1C,FD,1)                                "Cardiac R-R Interval Specified" : WEAK (((VALUE 0x00080008 1="ORIGINAL" OR VALUE 0x00080008 1="MIXED") AND NOT VALUE 0x00189037="NONE"), (VALUE 0x00080008 1="DERIVED" AND (NOT VALUE 0x00189037 ="NONE")))
(0x00189085,1C,CS,1,D,"ECG"
                    | "MR"
                    | "PP"
                    | "VCG")                        "Cardiac Signal Source"          : WEAK (((VALUE 0x00080008 1="ORIGINAL" OR VALUE 0x00080008 1="MIXED") AND NOT VALUE 0x00189037="NONE"), (VALUE 0x00080008 1="DERIVED" AND (NOT VALUE 0x00189037 ="NONE")))
(0x00189169,1C,CS,1,D,"NONE"
                    | "PVC"
                    | "QRS_LOOP"
                    | "RR_INTERVAL")                "Cardiac Beat Rejection Technique" : WEAK (((VALUE 0x00080008 1="ORIGINAL" OR VALUE 0x00080008 1="MIXED") AND (VALUE 0x00189037="PROSPECTIVE" OR VALUE 0x00189037="RETROSPECTIVE")), ((VALUE 0x00080008 1 ="DERIVED") AND (VALUE 0x00189037="PROSPECTIVE" OR VALUE 0x00189037="RETROSPECTIVE")))
(0x00181081,2C,IS,1)                                "Low R-R Value"                  : WEAK (((VALUE 0x00080008 1="ORIGINAL" OR VALUE 0x00080008 1="MIXED") AND (VALUE 0x00189037="PROSPECTIVE" OR VALUE 0x00189037="RETROSPECTIVE")), ((VALUE 0x00080008 1 ="DERIVED") AND (VALUE 0x00189037="PROSPECTIVE" OR VALUE 0x00189037="RETROSPECTIVE")))
(0x00181082,2C,IS,1)                                "High R-R Value"                 : WEAK (((VALUE 0x00080008 1="ORIGINAL" OR VALUE 0x00080008 1="MIXED") AND (VALUE 0x00189037="PROSPECTIVE" OR VALUE 0x00189037="RETROSPECTIVE")), ((VALUE 0x00080008 1 ="DERIVED") AND (VALUE 0x00189037="PROSPECTIVE" OR VALUE 0x00189037="RETROSPECTIVE")))
(0x00181083,2C,IS,1)                                "Intervals Acquired"             : WEAK (((VALUE 0x00080008 1="ORIGINAL" OR VALUE 0x00080008 1="MIXED") AND NOT VALUE 0x00189037="NONE"), (VALUE 0x00080008 1="DERIVED" AND (NOT VALUE 0x00189037 ="NONE")))
(0x00181084,2C,IS,1)                                "Intervals Rejected"             : WEAK (((VALUE 0x00080008 1="ORIGINAL" OR VALUE 0x00080008 1="MIXED") AND NOT VALUE 0x00189037="NONE"), (VALUE 0x00080008 1="DERIVED" AND (NOT VALUE 0x00189037 ="NONE")))

MODULE "Respiratory Synchronization Module" C
(0x00189170,1C,CS,1,D,"BREATH_HOLD"
                    | "CORRECTION"
                    | "GATING"
                    | "NONE"
                    | "PHASE_ORDERING"
                    | "PHASE_RESCANNING"
                    | "REALTIME"
                    | "RETROSPECTIVE"
                    | "TRACKING")                   "Respiratory Motion Compensation Technique" : WEAK ((VALUE 0x00080008 1="ORIGINAL" OR VALUE 0x00080008 1="MIXED"), TRUE)
(0x00189171,1C,CS,1,D,"BELT"
                    | "CO2_SENSOR"
                    | "ECG"
                    | "MR_PHASE"
                    | "NASAL_PROBE"
                    | "NAVIGATOR"
                    | "NONE")                       "Respiratory Signal Source"      : WEAK(((VALUE 0x00080008 1="ORIGINAL" OR VALUE 0x00080008 1="MIXED") AND NOT VALUE 0x00189170="NONE"),((VALUE 0x00080008 1="DERIVED") AND (NOT VALUE 0x00189170="NONE")))

MODULE "X-Ray Tomography Acquisition Module" U
(0x00181460,1,DS,1)                                 "Tomo Layer Height"
(0x00181470,3,DS,1)                                 "Tomo Angle"
(0x00181480,3,DS,1)                                 "Tomo Time"
(0x00181490,3,CS,1,D,"CIRCULAR"
                   | "LINEAR"
                   | "POLYCYCLOIDAL"
                   | "SPIRAL")                      "Tomo Type"
(0x00181491,3,CS,1,D,"MOTION"
                   | "TOMOSYNTHESIS")               "Tomo Class"
(0x00181495,3,IS,1)                                 "Number of Tomosynthesis Source Images"

MODULE "X-Ray Acquisition Module" C                                                  : WEAK ((VALUE 0x00080008 1="ORIGINAL"),TRUE)
(0x00181155,1,CS,1,E,"GR"
                   | "SC")                          "Radiation Setting"
(0x00180060,2,DS,1)                                 "KVP"
(0x00181150,2C,IS,1)                                "Exposure Time"                  : NOT PRESENT 0x00181152
(0x00181151,2C,IS,1)                                "X-Ray Tube Current"             : NOT PRESENT 0x00181152
(0x00181152,2C,IS,1)                                "Exposure"                       : NOT PRESENT 0x00181150 AND NOT PRESENT 0x00181151
(0x00181147,3,CS,1,D,"RECTANGLE"
                   | "ROUND")                       "Field of View Shape"
(0x00181149,3,IS,1:2)                               "Field of View Dimension(s)"
(0x00181153,3,IS,1)                                 "Exposure in uAs"
(0x00181154,3,DS,1)                                 "Average Pulse Width"
(0x0018115A,3,CS,1,D,"CONTINUOUS"
                   | "PULSED")                      "Radiation Mode"
(0x0018115E,3,DS,1)                                 "Image and Fluoroscopy Area Dose Product"
(0x00181161,3,LO,1:n)                               "Type of Filters"
(0x00181162,3,DS,1)                                 "Intensifier Size"
(0x00181164,3,DS,2)                                 "Imager Pixel Spacing"
(0x00181166,3,CS,1:n,D,"IN"
                     | "NONE")                      "Grid"
(0x00181190,3,DS,1:n)                               "Focal Spot(s)"
(0x00188150,3,DS,1)                                 "Exposure Time in uS"
(0x00188151,3,DS,1)                                 "X-Ray Tube Current in uA"

MODULE "XA/XRF Series Module" M
(0x00080060,1,CS,1)                                 "Modality"
(0x00200011,1,IS,1)                                 "Series Number"

MODULE "X-Ray Image Intensifier Module" C                                            : VALUE 0x00189420="IMG_INTENSIFIER"
(0x00181162,1,DS,1)                                 "Intensifier Size"
(0x00189427,1,CS,1,E,"HEXAGONAL"
                   | "RECTANGLE"
                   | "ROUND")                       "Intensifier Active Shape"
(0x00189428,1,FL,1:2)                               "Intensifier Active Dimension(s)"

MODULE "X-Ray Grid Module" U
(0x00181166,3,CS,1:n,D,"CROSSED"
                     | "FIXED"
                     | "FOCUSED"
                     | "NONE"
                     | "PARALLEL"
                     | "RECIPROCATING")             "Grid"
(0x00187040,3,LT,1)                                 "Grid Absorbing Material"
(0x00187041,3,LT,1)                                 "Grid Spacing Material"
(0x00187042,3,DS,1)                                 "Grid Thickness"
(0x00187044,3,DS,1)                                 "Grid Pitch"
(0x00187046,3,IS,2)                                 "Grid Aspect Ratio"
(0x00187048,3,DS,1)                                 "Grid Period"
(0x0018704C,3,DS,1)                                 "Grid Focal Distance"

MODULE "Enhanced General Equipment Module" M
(0x00080070,1,LO,1)                                 "Manufacturer"
(0x00081090,1,LO,1)                                 "Manufacturer's Model Name"
(0x00181000,1,LO,1)                                 "Device Serial Number"
(0x00181020,1,LO,1:n)                               "Software Version(s)"

MODULE "X-Ray Detector Module" C                                                     : VALUE 0x00189420="DIGITAL_DETECTOR"
(0x00189429,1,FL,2)                                 "Physical Detector Size"
(0x00189430,1C,US,2)                                "Position of Isocenter Projection" : PRESENT 0x00189462
INCLUDEMACRO                                        "Digital X-Ray Detector Macro Enhanced XRF Image C-STORE SCU"

MODULE "Multi-frame Functional Groups Module (Enhanced XRF)" M
(0x00080023,1,DA,1)                                 "Content Date"
(0x00080033,1,TM,1)                                 "Content Time"
(0x00200013,1,IS,1)                                 "Instance Number"
(0x00280008,1,IS,1)                                 "Number of Frames"
(0x52009230,1,SQ,1,
 >INCLUDEMACRO                                      "Frame Content Macro Enhanced XRF Image C-STORE SCU"
 >INCLUDEMACRO                                      "Frame Anatomy Macro Enhanced XRF Image C-STORE SCU" : NOT PRESENT ../0x52009229/0x00209071
 >INCLUDEMACRO                                      "X-Ray Geometry Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189476))
 >INCLUDEMACRO                                      "X-Ray Collimator Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189407))
 >INCLUDEMACRO                                      "XA/XRF Frame Characteristics Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189412))
 >INCLUDEMACRO                                      "X-Ray Exposure Control Sensing Regions Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189434))
 >INCLUDEMACRO                                      "Frame Pixel Shift Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00289415))
 >INCLUDEMACRO                                      "X-Ray Frame Detector Parameters Macro Enhanced XRF Image C-STORE SCU" : VALUE ../0x00189420="DIGITAL_DETECTOR" AND NOT PRESENT ../0x52009229/0x00189451
 >INCLUDEMACRO                                      "Pixel Intensity Relationship LUT Macro Enhanced XRF Image C-STORE SCU" : WEAK((VALUE ../0x00281040="LOG" AND NOT PRESENT ../0x52009229/0x00289422),(NOT PRESENT ../0x52009229/0x00289422))
 >INCLUDEMACRO                                      "Irradiation Event Identification Macro Enhanced XRF Image C-STORE SCU" : NOT PRESENT ../0x52009229/0x00189477
 >INCLUDEMACRO                                      "Frame VOI LUT Macro Enhanced XRF Image C-STORE SCU" : NOT PRESENT ../0x52009229/0x00289132
 >INCLUDEMACRO                                      "XA/XRF Frame Pixel Data Properties Macro Enhanced XRF Image C-STORE SCU" : NOT PRESENT ../0x52009229/0x00289443
 >INCLUDEMACRO                                      "Derivation Image Macro Enhanced XRF Image C-STORE SCU" : NOT PRESENT ../0x52009229/0x00089124
 >INCLUDEMACRO                                      "X-Ray Positioner Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189405))
 >INCLUDEMACRO                                      "X-Ray Frame Acquisition Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189417))
 >INCLUDEMACRO                                      "X-Ray Table Position Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189406))
 >INCLUDEMACRO                                      "Cardiac Trigger Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189118))
 >INCLUDEMACRO                                      "Frame Display Shutter Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189472))
 >INCLUDEMACRO                                      "Patient Orientation in Frame Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00209450))
 >INCLUDEMACRO                                      "Referenced Image Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00081140))
 >INCLUDEMACRO                                      "Contrast/Bolus Usage Functional Group Macro Enhanced XRF Image C-STORE SCU" : PRESENT 0x00180012 AND NOT PRESENT ../0x52009229/0x00189341
 >INCLUDEMACRO                                      "X-Ray Calibration Device Usage Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189455))
 >INCLUDEMACRO                                      "X-Ray Field of View Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189432))
 >INCLUDEMACRO                                      "X-Ray Object Thickness Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009229/0x00189456))
 >INCLUDEMACRO                                      "Respiratory Trigger Macro"      : WEAK (TRUE, NOT PRESENT ../0x52009229/0x00209253)
)                                                   "Per-frame Functional Groups Sequence"
(0x00209161,1C,UI,1)                                "Concatenation UID"
(0x00209162,1C,US,1)                                "In-concatenation Number"        : PRESENT 0x00209161
(0x00209228,1C,UL,1)                                "Concatenation Frame Offset Number" : PRESENT 0x00209161
(0x52009229,2,SQ,1,
 >INCLUDEMACRO                                      "Frame Anatomy Macro Enhanced XRF Image C-STORE SCU" : NOT PRESENT ../0x52009230/0x00209071
 >INCLUDEMACRO                                      "X-Ray Geometry Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189476))
 >INCLUDEMACRO                                      "X-Ray Collimator Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189407))
 >INCLUDEMACRO                                      "XA/XRF Frame Characteristics Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189412))
 >INCLUDEMACRO                                      "X-Ray Exposure Control Sensing Regions Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189434))
 >INCLUDEMACRO                                      "Frame Pixel Shift Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00289415))
 >INCLUDEMACRO                                      "X-Ray Frame Detector Parameters Macro Enhanced XRF Image C-STORE SCU" : VALUE ../0x00189420="DIGITAL_DETECTOR" AND NOT PRESENT ../0x52009230/0x00189451
 >INCLUDEMACRO                                      "Frame VOI LUT Macro Enhanced XRF Image C-STORE SCU" : NOT PRESENT ../0x52009230/0x00289132
 >INCLUDEMACRO                                      "Irradiation Event Identification Macro Enhanced XRF Image C-STORE SCU" : NOT PRESENT ../0x52009230/0x00189477
 >INCLUDEMACRO                                      "Pixel Intensity Relationship LUT Macro Enhanced XRF Image C-STORE SCU" : WEAK((VALUE ../0x00281040="LOG" AND NOT PRESENT ../0x52009230/0x00289422),(NOT PRESENT ../0x52009230/0x00289422))
 >INCLUDEMACRO                                      "XA/XRF Frame Pixel Data Properties Macro Enhanced XRF Image C-STORE SCU" : NOT PRESENT ../0x52009230/0x00289443
 >INCLUDEMACRO                                      "Derivation Image Macro Enhanced XRF Image C-STORE SCU" : NOT PRESENT ../0x52009230/0x00089124
 >INCLUDEMACRO                                      "X-Ray Positioner Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189405))
 >INCLUDEMACRO                                      "X-Ray Frame Acquisition Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189417))
 >INCLUDEMACRO                                      "X-Ray Table Position Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189406))
 >INCLUDEMACRO                                      "Cardiac Trigger Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189118))
 >INCLUDEMACRO                                      "Frame Display Shutter Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189472))
 >INCLUDEMACRO                                      "Patient Orientation in Frame Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00209450))
 >INCLUDEMACRO                                      "Referenced Image Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00081140))
 >INCLUDEMACRO                                      "Contrast/Bolus Usage Functional Group Macro Enhanced XRF Image C-STORE SCU" : PRESENT 0x00180012 AND NOT PRESENT ../0x52009230/0x00189341
 >INCLUDEMACRO                                      "X-Ray Calibration Device Usage Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189455))
 >INCLUDEMACRO                                      "X-Ray Field of View Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189432))
 >INCLUDEMACRO                                      "X-Ray Object Thickness Macro Enhanced XRF Image C-STORE SCU" : WEAK(FALSE,(NOT PRESENT ../0x52009230/0x00189456))
 >INCLUDEMACRO                                      "Respiratory Trigger Macro"      : WEAK (TRUE, NOT PRESENT ../0x52009230/0x00209253)
)                                                   "Shared Functional Groups Sequence"
(0x00209163,3,US,1)                                 "In-concatenation Total Number"
(0x00286010,3,US,1)                                 "Representative Frame Number"

MODULE "XA/XRF Multi-frame Presentation Module" U
(0x00281090,2,CS,1,D,"NAT"
                   | "SUB")                         "Recommended Viewing Mode"
(0x00289411,2,FL,1)                                 "Display Filter Percentage"
(0x00089458,3,SQ,1,
 >(0x00082142,1,IS,1)                               "Start Trim"
 >(0x00082143,1,IS,1)                               "Stop Trim"
 >(0x00089459,1,FL,1)                               "Recommended Display Frame Rate in Float"
 >(0x00089460,1,CS,1,D,"DISPLAY"
                     | "SKIP")                      "Skip Frame Range Flag"
)                                                   "Frame Display Sequence"
(0x00181244,3,US,1,E,0
                   | 1)                             "Preferred Playback Sequencing"

MODULE "X-Ray Filtration Module" U
(0x00181160,3,SH,1,D,"BUTTERFLY"
                   | "MULTIPLE"
                   | "NONE"
                   | "STRIP"
                   | "WEDGE")                       "Filter Type"
(0x00187050,3,CS,1:n,D,"ALUMINUM"
                     | "COPPER"
                     | "EUROPIUM"
                     | "LEAD"
                     | "MOLYBDENUM"
                     | "NIOBIUM"
                     | "RHODIUM")                   "Filter Material"
(0x00187052,3,DS,1:n)                               "Filter Thickness Minimum"
(0x00187054,3,DS,1:n)                               "Filter Thickness Maximum"

MODULE "Enhanced XA/XRF Image Module" M
(0x00080008,1,CS,1:n,E,"DERIVED"
                     | "ORIGINAL",
                     E,"PRIMARY"
                     | "SECONDARY",
                     E,"BIPLANE A"
                     | "BIPLANE B"
                     | "SINGLE PLANE"
                     | "UNDEFINED")                 "Image Type"
(0x0008002A,1,DT,1)                                 "Acquisition Datetime"
(0x00189004,1,CS,1,E,"PRODUCT"
                   | "RESEARCH"
                   | "SERVICE")                     "Content Qualification"
(0x00280002,1,US,1,E,1)                             "Samples per Pixel"
(0x00280004,1,CS,1)                                 "Photometric Interpretation"
(0x00280100,1,US,1,E,16
                   | 8)                             "Bits Allocated"
(0x00280101,1,US,1,E,16
                   | 8)                             "Bits Stored"
(0x00280102,1,US,1,E,1
                   | 10
                   | 11
                   | 12
                   | 13
                   | 14
                   | 15
                   | 2
                   | 3
                   | 4
                   | 5
                   | 6
                   | 7
                   | 8
                   | 9)                             "High Bit"
(0x00280103,1,US,1,E,0x0000)                        "Pixel Representation"
(0x00280301,1,CS,1,E,"NO")                          "Burned In Annotation"
(0x00282110,1,CS,1,E,"00"
                   | "01")                          "Lossy Image Compression"
(0x20500020,1,CS,1,E,"IDENTITY"
                   | "INVERSE")                     "Presentation LUT Shape"
(0x00089092,1C,SQ,1,
 >INCLUDEMACRO                                      "SOP Instance Reference Macro Enhanced XRF Image C-STORE SCU"
)                                                   "Referring Image Evidence Sequence" : PRESENT 0x52009229/0x00081140 OR PRESENT 0x52009230/0x00081140
(0x00089154,1C,SQ,1,
 >INCLUDEMACRO                                      "SOP Instance Reference Macro Enhanced XRF Image C-STORE SCU"
)                                                   "Source Image Evidence Sequence" : PRESENT 0x52009229/0x00089124/0x00082112 OR PRESENT 0x52009230/0x00089124/0x00082112
(0x00089410,1C,SQ,1,
 >INCLUDEMACRO                                      "Image SOP Instance Reference Macro Enhanced XRF Image C-STORE SCU"
)                                                   "Referenced Other Plane Sequence" : VALUE 0x00080008 3="BIPLANE A" OR VALUE 0x00080008 3="BIPLANE B"
(0x00189457,1C,CS,1,D,"MONOPLANE"
                    | "PLANE A"
                    | "PLANE B")                    "Plane Identification"           : NOT VALUE 0x00080008 3="UNDEFINED"
(0x00282112,1C,DS,1:n)                              "Lossy Image Compression Ratio"  : VALUE 0x00282110="01"
(0x00282114,1C,CS,1:n)                              "Lossy Image Compression Method" : VALUE 0x00282110="01"
(0x00540410,1C,SQ,1,
 >(0x00540412,3,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 20) Enhanced XRF Image C-STORE SCU"
  )                                                 "Patient Orientation Modifier Code Sequence"
 >INCLUDEMACRO                                      "Code Sequence Macro (ID=CID 19) Enhanced XRF Image C-STORE SCU"
)                                                   "Patient Orientation Code Sequence" : WEAK (((VALUE 0x00540410 ="YES") AND (VALUE 0x00181508="CARM")),TRUE)
(0x00540414,2C,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (ID=CID 21) Enhanced XRF Image C-STORE SCU"
)                                                   "Patient Gantry Relationship Code Sequence" : WEAK (((VALUE 0x00540410 ="YES") AND (VALUE 0x00181508="CARM")),TRUE)
(0x00109431,3,FL,1)                                 "Examined Body Thickness"
(0x00180022,3,CS,1:n,D,"CHASE"
                     | "ROTA"
                     | "STEP"
                     | "TOMO")                      "Scan Options"
(0x00189423,3,LO,1)                                 "Acquisition Protocol Name"
(0x00189424,3,LT,1)                                 "Acquisition Protocol Description"
(0x00200012,3,IS,1)                                 "Acquisition Number"
(0x00204000,3,LT,1)                                 "Image Comments"
(0x00280300,3,CS,1,E,"NO"
                   | "YES")                         "Quality Control Image"
(0x00880200,3,SQ,1,
 >INCLUDEMACRO                                      "Image Pixel Macro Enhanced XRF Image C-STORE SCU"
)                                                   "Icon Image Sequence"

MODULE "SOP Common Module" M
(0x00080005,1C,CS,1:n,DL,"GB18030"
                      | "ISO 2022 IR 100"
                      | "ISO 2022 IR 101"
                      | "ISO 2022 IR 109"
                      | "ISO 2022 IR 110"
                      | "ISO 2022 IR 126"
                      | "ISO 2022 IR 127"
                      | "ISO 2022 IR 13"
                      | "ISO 2022 IR 138"
                      | "ISO 2022 IR 144"
                      | "ISO 2022 IR 148"
                      | "ISO 2022 IR 149"
                      | "ISO 2022 IR 159"
                      | "ISO 2022 IR 166"
                      | "ISO 2022 IR 6"
                      | "ISO 2022 IR 87"
                      | "ISO_IR 100"
                      | "ISO_IR 101"
                      | "ISO_IR 109"
                      | "ISO_IR 110"
                      | "ISO_IR 126"
                      | "ISO_IR 127"
                      | "ISO_IR 13"
                      | "ISO_IR 138"
                      | "ISO_IR 144"
                      | "ISO_IR 148"
                      | "ISO_IR 166"
                      | "ISO_IR 192")               "Specific Character Set"         : "Required if expanded/replacement character set used"
(0x00080016,1C,UI,1)                                "SOP Class UID"                  : VALUE 0x00000100 = "1" OR PRESENT 0x00020001
(0x00080018,1C,UI,1)                                "SOP Instance UID"               : VALUE 0x00000100 = "1" OR PRESENT 0x00020001
(0x04000500,1C,SQ,1,
 >(0x04000510,1,UI,1)                               "Encrypted Content Transfer Syntax UID"
 >(0x04000520,1,OB,1)                               "Encrypted Content"
)                                                   "Encrypted Attributes Sequence"
(0x00080012,3,DA,1)                                 "Instance Creation Date"
(0x00080013,3,TM,1)                                 "Instance Creation Time"
(0x00080014,3,UI,1)                                 "Instance Creator UID"
(0x0008001A,3,UI,1:n)                               "Related General SOP Class UID"
(0x0008001B,3,UI,1)                                 "Original Specialized SOP Class UID"
(0x00080201,3,SH,1)                                 "Timezone Offset From UTC"
(0x0018A001,3,SQ,1,
 >(0x00080070,1,LO,1)                               "Manufacturer"
 >(0x0040A170,1,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 7005) Enhanced XRF Image C-STORE SCU"
  )                                                 "Purpose of Reference Code Sequence"
 >(0x00080080,3,LO,1)                               "Institution Name"
 >(0x00080081,3,ST,1)                               "Institution Address"
 >(0x00081010,3,SH,1)                               "Station Name"
 >(0x00081040,3,LO,1)                               "Institutional Department Name"
 >(0x00081090,3,LO,1)                               "Manufacturer's Model Name"
 >(0x00181000,3,LO,1)                               "Device Serial Number"
 >(0x00181020,3,LO,1:n)                             "Software Version(s)"
 >(0x00181050,3,DS,1)                               "Spatial Resolution"
 >(0x00181200,3,DA,1:n)                             "Date of Last Calibration"
 >(0x00181201,3,TM,1:n)                             "Time of Last Calibration"
 >(0x0018A002,3,DT,1)                               "Contribution DateTime"
 >(0x0018A003,3,ST,1)                               "Contribution Description"
)                                                   "Contributing Equipment Sequence"
(0x00200013,3,IS,1)                                 "Instance Number"
(0x01000410,3,CS,1,E,"AC"
                   | "AO"
                   | "NS"
                   | "OR")                          "SOP Instance Status"
(0x01000420,3,DT,1)                                 "SOP Authorization Date and Time"
(0x01000424,3,LT,1)                                 "SOP Authorization Comment"
(0x01000426,3,LO,1)                                 "Authorization Equipment Certification Number"
(0x00080110,3R,SQ,1,
 >(0x00080102,1,SH,1)                               "Coding Scheme Designator"
 >(0x0008010C,1C,UI,1)                              "Coding Scheme UID"
 >(0x00080112,1C,LO,1,D,"HL7")                      "Coding Scheme Registry"
 >(0x00080114,2C,ST,1)                              "Coding Scheme External ID"      : NOT PRESENT 0x0008010C
 >(0x00080103,3,SH,1)                               "Coding Scheme Version"
 >(0x00080115,3,ST,1)                               "Coding Scheme Name"
 >(0x00080116,3,ST,1)                               "Responsible Organization"
)                                                   "Coding Scheme Identification Sequence"
INCLUDEMACRO                                        "Digital Signatures Macro Enhanced XRF Image C-STORE SCU"
ENDDEFINE

#
# Definition of the Enhanced XRF Image Storage
#
DEFINE C-STORE-RSP "Enhanced XRF Image"

SOPCLASS "1.2.840.10008.5.1.4.1.1.12.2.1" "Enhanced XRF Image Storage"
ENDDEFINE

################################################################################
# MACRO DEFINITIONS
################################################################################


DEFINE MACRO "Digital Signatures Macro Enhanced XRF Image C-STORE SCU"
(0xFFFAFFFA,3,SQ,1,
 >(0x04000005,1,US,1)                               "MAC ID Number"
 >(0x04000100,1,UI,1)                               "Dignital Signature UID"
 >(0x04000105,1,DT,1)                               "Dignital Signature DateTime"
 >(0x04000110,1,CS,1,D,"X509_1993_SIG")             "Certificate Type"
 >(0x04000115,1,OB,1)                               "Certificate of Signer"
 >(0x04000120,1,OB,1)                               "Signature"
 >(0x04000310,1,OB,1)                               "Certified Timestamp"
 >(0x04000305,1C,CS,1,D,"CMS_TSP")                  "Certified Timestamp Type"       : PRESENT 0x04000310
)                                                   "Digital Signatures Sequence"
(0x4FFE0001,3R,SQ,1,
 >(0x04000005,1,US,1)                               "MAC ID Number"
 >(0x04000010,1,UI,1)                               "MAC Calculation Transfer Syntax UID"
 >(0x04000015,1,CS,1,D,"MD5"
                     | "RIPEMD160"
                     | "SHA1")                      "MAC Algorithm"
 >(0x04000020,1,AT,1:n)                             "Data Elements Signed"
)                                                   "MAC Parameters Sequence"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 7005) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : ".."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B="Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B="Y"
(0x0008010B,3,CS,1)                                 "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Image Pixel Macro Enhanced XRF Image C-STORE SCU"
(0x00280002,1,US,1,D,1
                   | 3
                   | 4)                             "Samples per Pixel"
(0x00280004,1,CS,1,D,"MONOCHROME1"
                   | "MONOCHROME2"
                   | "PALETTE COLOR"
                   | "RGB"
                   | "YBR_FULL"
                   | "YBR_FULL_422"
                   | "YBR_ICT"
                   | "YBR_PARTIAL_420"
                   | "YBR_PARTIAL_422"
                   | "YBR_RCT")                     "Photometric Interpretation"
(0x00280010,1,US,1)                                 "Rows"
(0x00280011,1,US,1)                                 "Columns"
(0x00280100,1,US,1)                                 "Bits Allocated"
(0x00280101,1,US,1)                                 "Bits Stored"
(0x00280102,1,US,1)                                 "High Bit"
(0x00280103,1,US,1,E,0000
                   | 0001)                          "Pixel Representation"
(0x7FE00010,1,OW/OB,1)                              "Pixel Data"
(0x00280006,1C,US,1,E,000
                    | 001)                          "Planar Configuration"           : VALUE 0x00280002 > "1"
(0x00280034,1C,IS,2)                                "Pixel Aspect Ratio"
(0x00281101,1C,US/SS,3)                             "Red Palette Color Lookup Table Descriptor" : VALUE 0x00280004 = "PALETTE COLOR" OR VALUE 0x00089205 = "COLOR" OR VALUE 0x00089205="MIXED"
(0x00281102,1C,US/SS,3)                             "Green Palette Color Lookup Table Descriptor" : VALUE 0x00280004 = "PALETTE COLOR" OR VALUE 0x00089205 = "COLOR" OR VALUE 0x00089205="MIXED"
(0x00281103,1C,US/SS,3)                             "Blue Palette Color Lookup Table Descriptor" : VALUE 0x00280004 = "PALETTE COLOR" OR VALUE 0x00089205 = "COLOR" OR VALUE 0x00089205="MIXED"
(0x00281201,1C,OW,1)                                "Red Palette Color Lookup Table Data" : VALUE 0x00280004 = "PALETTE COLOR" OR VALUE 0x00089205 = "COLOR" OR VALUE 0x00089205="MIXED"
(0x00281202,1C,OW,1)                                "Green Palette Color Lookup Table Data" : VALUE 0x00280004 = "PALETTE COLOR" OR VALUE 0x00089205 = "COLOR" OR VALUE 0x00089205="MIXED"
(0x00281203,1C,OW,1)                                "Blue Palette Color Lookup Table Data" : VALUE 0x00280004 = "PALETTE COLOR" OR VALUE 0x00089205 = "COLOR" OR VALUE 0x00089205="MIXED"
(0x00280106,3,US/SS,1)                              "Smallest Image Pixel Value"
(0x00280107,3,US/SS,1)                              "Largest Image Pixel Value"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 21) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 19) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 20) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Image SOP Instance Reference Macro Enhanced XRF Image C-STORE SCU"
(0x00081150,1,UI,1)                                 "Referenced SOP Class UID"
(0x00081155,1,UI,1)                                 "Referenced SOP Instance UID"
(0x00081160,1C,IS,1:n)                              "Referenced Frame Number"        : "Required if the Referenced SOP Instance is a multi-frame image and the reference does not apply to all frames."
ENDDEFINE

DEFINE MACRO "SOP Instance Reference Macro Enhanced XRF Image C-STORE SCU"
(0x0020000D,1,UI,1)                                 "Study Instance UID"
(0x00081115,1,SQ,1:n,
 >(0x0020000E,1,UI,1)                               "Series Instance UID"
 >(0x00080054,3,AE,1:n)                             "Retrieve AE Title"
 >(0x00880130,3,SH,1)                               "Storage Media File-Set ID"
 >(0x00880140,3,UI,1)                               "Storage Media File-Set UID"
 >(0x00081199,1,SQ,1:n,
   >(0x00081150,1,UI,1)                             "Referenced SOP Class UID"
   >(0x00081155,1,UI,1)                             "Referenced SOP Instance UID"
   >(0x0040A170,3,SQ,0:n,
     >INCLUDEMACRO                                  "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
    )                                               "Purpose of Reference Code Sequence"
   >(0x04000402,3,SQ,0:n,
     >(0x04000100,1,UI,1)                           "Digital Signature UID"
     >(0x04000120,1,OB,1)                           "Signature"
    )                                               "Referenced Digital Signature Sequence"
   >(0x04000403,3,SQ,1,
     >(0x04000010,1,UI,1)                           "MAC Calculation Transfer Syntax UID"
     >(0x04000015,1,CS,1,D,"RIPEMD160"
                         | "MD5"
                         | "SHA1")                  "MAC Algorithm"
     >(0x04000020,1,AT,1:n)                         "Data Elements Signed"
     >(0x04000404,1,OB,1)                           "MAC"
    )                                               "Referenced SOP Instance MAC Sequence"
  )                                                 "Referenced SOP Sequence"
)                                                   "Referenced Series Sequence"
ENDDEFINE

DEFINE MACRO "X-Ray Object Thickness Macro Enhanced XRF Image C-STORE SCU"
(0x00189456,1,SQ,1:n,
 >(0x00189452,1,FL,1)                               "Calculated Anatomy Thickness"
)                                                   "Object Thickness Sequence"
ENDDEFINE

DEFINE MACRO "X-Ray Field of View Macro Enhanced XRF Image C-STORE SCU"
(0x00189432,1,SQ,1:n,
 >(0x00187032,1,DS,1,E,"0"
                     | "180"
                     | "270"
                     | "90")                        "Field of View Rotation"
 >(0x00187034,1,CS,1,E,"NO"
                     | "YES")                       "Field of View Horizontal Flip"
 >(0x00187030,1C,DS,2)                              "Field of View Origin"           : VALUE ../../0x00189420="DIGITAL_DETECTOR"
 >(0x00181147,3,CS,1,E,"HEXAGONAL"
                     | "RECTANGLE"
                     | "ROUND")                     "Field of View Shape"
 >(0x00189433,3,LO,1)                               "Field of View Description"
 >(0x00189461,3,FL,1:2)                             "Field of View Dimension(s) in Float"
)                                                   "Field of View Sequence"
ENDDEFINE

DEFINE MACRO "X-Ray Calibration Device Usage Macro Enhanced XRF Image C-STORE SCU"
(0x00189455,1,SQ,1:n,
 >(0x00500004,1,CS,1,E,"NO"
                     | "YES")                       "Calibration Image"
)                                                   "Calibration Sequence"
ENDDEFINE

DEFINE MACRO "Contrast/Bolus Usage Functional Group Macro Enhanced XRF Image C-STORE SCU"
(0x00189341,1,SQ,1:n,
 >(0x00189337,1,US,1)                               "Contrast/Bolus Agent Number"
 >(0x00189342,1,CS,1,D,"NO"
                     | "YES")                       "Contrast/Bolus Agent Administered"
 >(0x00189343,2,CS,1,D,"NO"
                     | "YES")                       "Contrast/Bolus Agent Detected"
 >(0x00189344,2C,CS,1,D,"ARTERIAL"
                      | "CAPILLARY"
                      | "DELAYED"
                      | "DYNAMIC"
                      | "IMMIDIATE"
                      | "PORTAL_VENOUS"
                      | "POST_CONTRAST"
                      | "PRE_CONTRAST"
                      | "STEADY_STATE"
                      | "VENOUS")                   "Contrast/Bolus Agent Phase"     : VALUE ../../0x00180012/0x00180014/0x00080102="SNM3" AND VALUE ../../0x00180012/0x00180014/0x00080100="G-D101" AND VALUE ../../0x00180012/0x00180014/0x00080104="Intravenous route"
)                                                   "Contrast/Bolus Usage Sequence"
ENDDEFINE

DEFINE MACRO "Referenced Image Macro Enhanced XRF Image C-STORE SCU"
(0x00081140,2,SQ,1:n,
 >(0x00081150,1,UI,1)                               "Referenced SOP Class UID"
 >(0x00081155,1,UI,1)                               "Referenced SOP Instance UID"
 >(0x0040A170,1,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 7201) Enhanced XRF Image C-STORE SCU"
  )                                                 "Purpose of Reference Code Sequence"
 >(0x00081160,1C,IS,1:n)                            "Referenced Frame Number"        : "Required if reference is providedto a Multi-frame SOP Instance and not all frames are referenced"
)                                                   "Referenced Image Sequence"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 7201) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Patient Orientation in Frame Macro Enhanced XRF Image C-STORE SCU"
(0x00209450,1,SQ,1:n,
 >(0x00200020,1,CS,2)                               "Patient Orientation"
)                                                   "Patient Orientation in Frame Sequence"
ENDDEFINE

DEFINE MACRO "Frame Display Shutter Macro Enhanced XRF Image C-STORE SCU"
(0x00189472,1,SQ,1:n,
 >INCLUDEMACRO                                      "Display Shutter Macro Enhanced XRF Image C-STORE SCU"
)                                                   "Frame Display Shutter Sequence"
ENDDEFINE

DEFINE MACRO "Display Shutter Macro Enhanced XRF Image C-STORE SCU"
(0x00181600,1,CS,1:3,E,"CIRCULAR"
                     | "POLYGONAL"
                     | "RECTANGULAR",
                     E,"CIRCULAR"
                     | "POLYGONAL"
                     | "RECTANGULAR",
                     E,"CIRCULAR"
                     | "POLYGONAL"
                     | "RECTANGULAR")               "Shutter Shape"
(0x00181602,1C,IS,1)                                "Shutter Left Vertical Edge"     : VALUE 0x00181600  1 = "RECTANGULAR" OR VALUE 0x00181600  2 = "RECTANGULAR" OR VALUE 0x00181600  3 = "RECTANGULAR"
(0x00181604,1C,IS,1)                                "Shutter Right Vertical Edge"    : VALUE 0x00181600  1 = "RECTANGULAR" OR VALUE 0x00181600  2 = "RECTANGULAR" OR VALUE 0x00181600  3 = "RECTANGULAR"
(0x00181606,1C,IS,1)                                "Shutter Upper Horizontal Edge"  : VALUE 0x00181600  1 = "RECTANGULAR" OR VALUE 0x00181600  2 = "RECTANGULAR" OR VALUE 0x00181600  3 = "RECTANGULAR"
(0x00181608,1C,IS,1)                                "Shutter Lower Horizontal Edge"  : VALUE 0x00181600  1 = "RECTANGULAR" OR VALUE 0x00181600  2 = "RECTANGULAR" OR VALUE 0x00181600  3 = "RECTANGULAR"
(0x00181610,1C,IS,2)                                "Center of Circular Shutter"     : VALUE 0x00181600 1 = "CIRCULAR" OR VALUE 0x00181600 2 = "CIRCULAR" OR VALUE 0x00181600 3 = "CIRCULAR"
(0x00181612,1C,IS,1)                                "Radius of Circular Shutter"     : VALUE 0x00181600 1 = "CIRCULAR" OR VALUE 0x00181600 2 = "CIRCULAR" OR VALUE 0x00181600 3 = "CIRCULAR"
(0x00181620,1C,IS,2:2n)                             "Vertices of the Polygonal Shutter" : VALUE 0x00181600 1  = "POLYGONAL" OR VALUE 0x00181600 2  = "POLYGONAL" OR VALUE 0x00181600 3  = "POLYGONAL"
(0x00181622,3,US,1)                                 "Shutter Presentation Value"
(0x00181624,3,US,3)                                 "Shutter Presentation Color CIELab Value"
ENDDEFINE

DEFINE MACRO "Cardiac Trigger Macro Enhanced XRF Image C-STORE SCU"
(0x00189118,1,SQ,1:n,
 >(0x00209153,1,FD,1)                               "Trigger Delay Time"
)                                                   "Cardiac Trigger Sequence"
ENDDEFINE

DEFINE MACRO "X-Ray Table Position Macro Enhanced XRF Image C-STORE SCU"
(0x00189406,1,SQ,1:n,
 >(0x00189469,1,FL,1)                               "Table Horizontal Rotation Angle"
 >(0x00189470,1,FL,1)                               "Table Head Tilt Angle"
 >(0x00189471,1,FL,1)                               "Table Cradle Tilt Angle"
 >(0x300A0128,1,DS,1)                               "Table Top Vertical Position"
 >(0x300A0129,1,DS,1)                               "Table Top Longitudinal Position"
 >(0x300A012A,1,DS,1)                               "Table Top Lateral Position"
)                                                   "Table Position Sequence"
ENDDEFINE

DEFINE MACRO "X-Ray Frame Acquisition Macro Enhanced XRF Image C-STORE SCU"
(0x00189417,1,SQ,1:n,
 >(0x00180060,1,DS,1)                               "KVP"
 >(0x00189330,1,FD,1)                               "X-Ray Tube Current in mA"
)                                                   "Frame Acquisition Sequence"
ENDDEFINE

DEFINE MACRO "X-Ray Positioner Macro Enhanced XRF Image C-STORE SCU"
(0x00189405,1,SQ,1:n,
 >(0x00181510,1C,DS,1)                              "Positioner Primary Angle"       : VALUE ../../0x00181508="CARM"
 >(0x00181511,1C,DS,1)                              "Positioner Secondary Angle"     : VALUE ../../0x00181508="CARM"
 >(0x00189447,1C,FL,1)                              "Column Angulation (Patient)"    : VALUE ../../0x00181508="COLUMN"
)                                                   "Positioner Position Sequence"
ENDDEFINE

DEFINE MACRO "Derivation Image Macro Enhanced XRF Image C-STORE SCU"
(0x00089124,2,SQ,1:n,
 >(0x00089215,1,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 7203) Enhanced XRF Image C-STORE SCU"
  )                                                 "Derivation Code Sequence"
 >(0x00082112,2,SQ,1,
   >(0x00081150,1,UI,1)                             "Referenced SOP Class UID"
   >(0x00081155,1,UI,1)                             "Referenced SOP Instance UID"
   >(0x0040A170,1,SQ,1,
     >INCLUDEMACRO                                  "Code Sequence Macro (ID=CID 7202) Enhanced XRF Image C-STORE SCU"
    )                                               "Purpose of Reference Code Sequence"
   >(0x00081160,1C,IS,1:n)                          "Referenced Frame Number"        : " Required if referenced to another Multi-frame image SOP instance and not all frames are included"
  )                                                 "Source Image Sequence"
 >(0x00082111,3,ST,1)                               "Derivation Description"
)                                                   "Derivation Image Sequence"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 7202) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 7203) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "XA/XRF Frame Pixel Data Properties Macro Enhanced XRF Image C-STORE SCU"
(0x00289443,1,SQ,1:n,
 >(0x00281040,1,CS,1)                               "Pixel Intensity Relationship"
 >(0x00281041,1,SS,1,E,-1
                     | 1)                           "Pixel Intensity Relationship Sign"
 >(0x00289444,1,CS,1,E,"NON_UNIFORM"
                     | "UNIFORM")                   "Geometrical Properties"
 >(0x00289446,1,CS,1:n,D,"DIGITAL_SUBSTR"
                       | "FRAME_AVERAGING"
                       | "HIGH_PASS_FILTER"
                       | "LOW_PASS_FILTER"
                       | "MULTI_BAND_FLTR"
                       | "NONE")                    "Image Processing Applied"
 >(0x00289445,2C,FL,1)                              "Geometric Maximum Distortion"   : VALUE 0x00289444="NON_UNIFORM"
)                                                   "Frame Pixel Data Properties Sequence"
ENDDEFINE

DEFINE MACRO "Pixel Intensity Relationship LUT Macro Enhanced XRF Image C-STORE SCU"
(0x00289422,1,SQ,1:n,
 >(0x00283002,1,US/SS,3)                            "LUT Descriptor"
 >(0x00283006,1,US/SS,1:n)                          "LUT Data"
 >(0x00289474,1,CS,1,D,"TO_LINEAR"
                     | "TO_LOG")                    "LUT Function"
)                                                   "Pixel Intensity Relationship LUT Sequence"
ENDDEFINE

DEFINE MACRO "Irradiation Event Identification Macro Enhanced XRF Image C-STORE SCU"
(0x00189477,1,SQ,1:n,
 >(0x00083010,1,UI,1)                               "Irradiation Event UID"
)                                                   "Irradiation Event Identification Sequence"
ENDDEFINE

DEFINE MACRO "Frame VOI LUT Macro Enhanced XRF Image C-STORE SCU"
(0x00289132,2,SQ,1:n,
 >(0x00281050,1,DS,1:n)                             "Window Center"
 >(0x00281051,1,DS,1:n)                             "Window Width"
 >(0x00281055,3,LO,1:n,D,"BONE"
                       | "BRAIN"
                       | "LUNG"
                       | "SOFT TISSUE")             "Window Center & Width Explanation"
)                                                   "Frame VOI LUT Sequence"
ENDDEFINE

DEFINE MACRO "X-Ray Frame Detector Parameters Macro Enhanced XRF Image C-STORE SCU"
(0x00189451,1,SQ,1:n,
 >(0x00187014,3,DS,1)                               "Detector Active Time"
 >(0x00187016,3,DS,1)                               "Detector Activation Offset From Exposure"
)                                                   "Frame Detector Parameters Sequence"
ENDDEFINE

DEFINE MACRO "Frame Pixel Shift Macro Enhanced XRF Image C-STORE SCU"
(0x00289415,1,SQ,1:n,
 >(0x00286114,1,FL,2)                               "Mask Sub-pixel Shift"
 >(0x00289416,1,US,1)                               "Subtraction Item ID"
)                                                   "Frame Pixel Shift Sequence"
ENDDEFINE

DEFINE MACRO "X-Ray Exposure Control Sensing Regions Macro Enhanced XRF Image C-STORE SCU"
(0x00189434,1,SQ,1:n,
 >(0x00189435,1,CS,1,E,"CIRCULAR"
                     | "POYGONAL"
                     | "RECTANGULAR")               "Exposure Control Sensing Region Shape"
 >(0x00189436,1C,SS,1)                              "Exposure Control Sensing Region Left Vertical Edge" : VALUE 0x00189435="RECTANGULAR"
 >(0x00189437,1C,SS,1)                              "Exposure Control Sensing Region Right Vertical Edge" : VALUE 0x00189435="RECTANGULAR"
 >(0x00189438,1C,SS,1)                              "Exposure Control Sensing Region Upper Horizontal Edge" : VALUE 0x00189435="RECTANGULAR"
 >(0x00189439,1C,SS,1)                              "Exposure Control Sensing Region Lower Horizontal Edge" : VALUE 0x00189435="RECTANGULAR"
 >(0x00189440,1C,SS,2)                              "Center of Circular Exposure Control Sensing Region" : VALUE 0x00189435="CIRCULAR"
 >(0x00189441,1C,US,1)                              "Radius of Circular Exposure Control Sensing Region" : VALUE 0x00189435="CIRCULAR"
 >(0x00189442,1C,SS,2:n)                            "Vertices of the Polygonal Exposure Control Sensing Region" : VALUE 0x00189435="POLYGONAL"
)                                                   "Exposure Control Sensing Regions Sequence"
ENDDEFINE

DEFINE MACRO "XA/XRF Frame Characteristics Macro Enhanced XRF Image C-STORE SCU"
(0x00189412,1,SQ,1:n,
 >(0x00082111,3,ST,1)                               "Derivation Description"
 >(0x00181400,3,LO,1)                               "Acquisition Device Processing Description"
 >(0x00181401,3,LO,1)                               "Acquisition Device Processing Code"
)                                                   "XA/XRF Frame Characteristics Sequence"
ENDDEFINE

DEFINE MACRO "X-Ray Collimator Macro Enhanced XRF Image C-STORE SCU"
(0x00189407,1,SQ,1:n,
 >(0x00181700,1,CS,1:3,E,"CIRCULAR"
                       | "POLYGONAL"
                       | "RECTANGULAR")             "Collimator Shape"
 >(0x00181702,1C,IS,1)                              "Collimator Left Vertical Edge"  : VALUE 0x00181700="RECTANGULAR"
 >(0x00181704,1C,IS,1)                              "Collimator Right Vertical Edge" : VALUE 0x00181700="RECTANGULAR"
 >(0x00181706,1C,IS,1)                              "Collimator Upper Horizontal Edge" : VALUE 0x00181700="RECTANGULAR"
 >(0x00181708,1C,IS,1)                              "Collimator Lower Horizontal Edge" : VALUE 0x00181700="RECTANGULAR"
 >(0x00181710,1C,IS,2)                              "Center of Circular Collimator"  : VALUE 0x00181700="CIRCULAR"
 >(0x00181712,1C,IS,1)                              "Radius of Circular Collimator"  : VALUE 0x00181700="CIRCULAR"
 >(0x00181720,1C,IS,2:2n)                           "Vertices of the Polygonal Collimator" : VALUE 0x00181700="POLYGONAL"
)                                                   "Collimator Shape Sequence"
ENDDEFINE

DEFINE MACRO "X-Ray Geometry Macro Enhanced XRF Image C-STORE SCU"
(0x00189476,1,SQ,1:n,
 >(0x00181110,1,DS,1)                               "Distance Source to Detector"
 >(0x00189402,1,FL,1)                               "Distance Source to Isocenter"
)                                                   "X-Ray Geometry Sequence"
ENDDEFINE

DEFINE MACRO "Frame Anatomy Macro Enhanced XRF Image C-STORE SCU"
(0x00209071,1,SQ,1:n,
 >(0x00209072,1,CS,1,E,"B"
                     | "L"
                     | "R"
                     | "U")                         "Frame Laterality"
 >INCLUDEMACRO                                      "General Anatomy Required Macro (ID=4030) Enhanced XRF Image C-STORE SCU"
)                                                   "Frame Anatomy Sequence"
ENDDEFINE

DEFINE MACRO "General Anatomy Required Macro (ID=4030) Enhanced XRF Image C-STORE SCU"
(0x00082218,2,SQ,1,
 >(0x00082220,3,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 2) Enhanced XRF Image C-STORE SCU"
  )                                                 "Anatomic Region Modifier Sequence"
 >INCLUDEMACRO                                      "Code Sequence Macro (ID=CID 4030) Enhanced XRF Image C-STORE SCU"
)                                                   "Anatomic Region Sequence"
INCLUDEMACRO "Primary Anatomic Structure Macro"
ENDDEFINE

DEFINE MACRO "Primary Anatomic Structure Macro"
(0x00082228,3R,SQ,1,
 >(0x00082230,3R,SQ,1,
   >INCLUDEMACRO                                    "Code Sequence Macro (ID=CID 2) Enhanced XRF Image C-STORE SCU"
  )                                                 "Primary Anatomic Structure Modifier Sequence"
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
)                                                   "Primary Anatomic Structure Sequence"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 2) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 4030) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1,E,"T-41040"
                   | "T-42303"
                   | "T-42501"
                   | "T-45011"
                   | "T-45526"
                   | "T-4600A"
                   | "T-62002"
                   | "T-83009"
                   | "T-9400F"
                   | "T-A0193"
                   | "T-A600A"
                   | "T-C8001"
                   | "T-D4034"
                   | "T-D4035"
                   | "T-D4909")                     "Code Value"
(0x00080102,1,SH,1,E,"SNM3")                        "Coding Scheme Designator"
(0x00080104,1,LO,1,E,"Abdominal aorta"
                   | "Aortic arch"
                   | "Carotid"
                   | "Cerebellum"
                   | "Circle of Willis"
                   | "Cranial venous system"
                   | "Iliac arterial system"
                   | "Kidney"
                   | "Liver"
                   | "Pancreas"
                   | "Spleen"
                   | "Testis"
                   | "Thoracic aorta"
                   | "Thymus"
                   | "Uterus")                      "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "  Required if see table 8.8-1"
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B="Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B="Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Frame Content Macro Enhanced XRF Image C-STORE SCU"
(0x00209111,1,SQ,1:n,
 >(0x00189074,1C,DT,1)                              "Frame Acquisition Datetime"     : WEAK ((VALUE ../0x00189226/0x00089007 1="ORIGINAL"), TRUE)
 >(0x00189151,1C,DT,1)                              "Frame Reference Datetime"       : WEAK ((VALUE ../0x00189226/0x00089007 1="ORIGINAL"), TRUE)
 >(0x00189220,1C,FD,1)                              "Frame Acquisition Duration"     : WEAK ((VALUE ../0x00189226/0x00089007 1="ORIGINAL"), TRUE)
 >(0x00209057,1C,UL,1)                              "In-Stack Position Number"       : WEAK ((PRESENT 0x00209056),TRUE)
 >(0x00209157,1C,UL,1:n)                            "Dimension Index Values"         : NOT EMPTY ../../0x00209222
 >(0x00189214,3,CS,1,D,"END_RESPIR"
                     | "START_RESPIR"
                     | "UNDETERMINED")              "Respiratory Cycle Position"
 >(0x00189236,3,CS,1,D,"END_DIASTOLE"
                     | "END_SYSTOLE"
                     | "UNDETERMINED")              "Cardiac Cycle Position"
 >(0x00209056,3,SH,1)                               "Stack ID"
 >(0x00209128,3,UL,1)                               "Temporal Position Index"
 >(0x00209156,3,US,1)                               "Frame Acquisition Number"
 >(0x00209158,3,LT,1)                               "Frame Comments"
)                                                   "Frame Content Sequence"
ENDDEFINE

DEFINE MACRO "Digital X-Ray Detector Macro Enhanced XRF Image C-STORE SCU"
(0x00187004,2,CS,1,D,"DIRECT"
                   | "FILM"
                   | "SCINTILLATOR"
                   | "STORAGE")                     "Detector Type"
(0x00186000,3,DS,1)                                 "Sensitivity"
(0x00187000,3,CS,1,E,"NO"
                   | "YES")                         "Detector Conditions Nominal Flag"
(0x00187001,3,DS,1)                                 "Detector Temperature"
(0x00187005,3,CS,1,D,"AREA"
                   | "SLOT")                        "Detector Configuration"
(0x00187006,3,LT,1)                                 "Detector Description"
(0x00187008,3,LT,1)                                 "Detector Mode"
(0x0018700A,3,SH,1)                                 "Detector ID"
(0x0018700C,3,DA,1)                                 "Date of Last Detector Calibration"
(0x0018700E,3,TM,1)                                 "Time of Last Detector Calibration"
(0x00187010,3,IS,1)                                 "Exposures on Detector Since Last Calibration"
(0x00187011,3,IS,1)                                 "Exposures on Detector Since Manufactured"
(0x00187012,3,DS,1)                                 "Detector Time Since Last Exposure"
(0x0018701A,3,DS,2)                                 "Detector Binning"
(0x00187020,3,DS,2)                                 "Detector Element Physical Size"
(0x00187022,3,DS,2)                                 "Detector Element Spacing"
(0x00187024,3,CS,1,E,"HEXAGONAL"
                   | "RECTANGLE"
                   | "ROUND")                       "Detector Active Shape"
(0x00187026,3,DS,1:2)                               "Detector Active Dimension(s)"
(0x00187028,3,DS,2)                                 "Detector Active Origin"
(0x0018702A,3,LO,1)                                 "Detector Manufacturer Name"
(0x0018702B,3,LO,1)                                 "Detector Manufacturer's Model Name"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 82) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 9) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 10) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 11) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 8) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 12) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficeint to identfy the Code Value (0008,0100) unambiguously."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B = "Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B = "Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 13) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1,E,"C-10520"
                   | "C-11400"
                   | "C-12200"
                   | "C-17200"
                   | "C-17800")                     "Code Value"
(0x00080102,1,SH,1,E,"SRT")                         "Coding Scheme Designator"
(0x00080104,1,LO,1,E,"Barium"
                   | "Carbon Dioxide"
                   | "Gadolinium"
                   | "Iodine"
                   | "Xenon")                       "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : " Required if see table 8.8-1"
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B="Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B="Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Content Item Macro Enhanced XRF Image C-STORE SCU"
(0x0040A040,1,CS,1,D,"CODE"
                   | "DATE"
                   | "DATETIME"
                   | "NUMERIC"
                   | "PNAME"
                   | "TEXT"
                   | "TIME"
                   | "UIDREF")                      "Value Type"
(0x0040A120,1C,DT,1)                                "DateTime"                       : VALUE 0x0040A040 = "DATETIME"
(0x0040A121,1C,DA,1)                                "Date"                           : VALUE 0x0040A040 = "DATE"
(0x0040A122,1C,TM,1)                                "Time"                           : VALUE 0x0040A040 = "TIME"
(0x0040A123,1C,PN,1)                                "Person Name"                    : VALUE 0x0040A040 = "PNAME"
(0x0040A124,1C,UI,1)                                "UID"                            : VALUE 0x0040A040 = "UIDREF"
(0x0040A160,1C,UT,1)                                "Text Value"                     : VALUE 0x0040A040 = "TEXT"
(0x0040A30A,1C,DS,1:n)                              "Numeric Value"                  : VALUE 0x0040A040 = "NUMERIC"
ENDDEFINE

DEFINE MACRO "Person Identification Macro Enhanced XRF Image C-STORE SCU"
(0x00401101,1,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
)                                                   "Person Identification Code Sequence"
(0x00080080,1C,LO,1)                                "Institution Name"               : NOT PRESENT 0x00080082
(0x00080082,1C,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro (Baseline CID is not defined) Enhanced XRF Image C-STORE SCU"
)                                                   "Institution Code Sequence"      : NOT PRESENT 0x00080080
(0x00080081,3,ST,1)                                 "Institution Address"
(0x00401102,3,ST,1)                                 "Person's Adress"
(0x00401103,3,LO,1:n)                               "Person's Telephone Numbers"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro (ID=CID 7210) Enhanced XRF Image C-STORE SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if a sequence item is present and the value of Coding Scheme Designator (0008,0102) is not sufficient to identify the Code Value (0008,0100) unambiguosly."
(0x00080105,1C,CS,1)                                "Mapping Resource"               : PRESENT 0x0008010F
(0x00080106,1C,DT,1)                                "Context Group Version"          : PRESENT 0x0008010F
(0x00080107,1C,DT,1)                                "Context Group Local Version"    : VALUE 0x0008010B="Y"
(0x0008010D,1C,UI,1)                                "Context Group Extension Creator UID" : VALUE 0x0008010B="Y"
(0x0008010B,3,CS,1,E,"N"
                   | "Y")                           "Context Group Extension Flag"
(0x0008010F,3,CS,1)                                 "Context Identifier"
ENDDEFINE

DEFINE MACRO "Respiratory Trigger Macro"
(0x00209253,1,SQ,1:n,
 >(0x00209254,1C,FD,1)                              "Respiratory Interval Time"
 >(0x00209255,1,FD,1)                               "Respiratory Trigger Delay Time" : WEAK(((VALUE ../0x00189171 = "BELT") AND NOT(VALUE ../0x00189170 = "NONE" OR VALUE ../0x00189170 = "REALTIME")), TRUE)
)                                                   "Respiratory Trigger Sequence"
ENDDEFINE

################################################################################
# COMMAND DEFINITIONS
################################################################################


DEFINE C-STORE-RQ
(0x00000000,1,UL,1)                                 "Group 0000 Length"
(0x00000002,1,UI,1)                                 "Affected SOP Class UID"
(0x00000100,1,US,1,E,0x0001)                        "Command Field"
(0x00000110,1,US,1)                                 "Message ID"
(0x00000700,1,US,1,E,0x0000
                   | 0x0001
                   | 0x0002)                        "Priority"
(0x00000800,1,US,1)                                 "Data Set Type"
(0x00001030,1C,AE,1)                                "Move Originator AE Title"
(0x00001031,1C,US,1)                                "Move Originator Message ID"
(0x00001000,3,UI,1)                                 "Affected SOP Instance UID"
ENDDEFINE

DEFINE C-STORE-RSP
(0x00000000,1,UL,1)                                 "Group 0000 Length"
(0x00000002,1,UI,1)                                 "Affected SOP Class UID"
(0x00000100,1,US,1,E,0x8001)                        "Command Field"
(0x00000120,1,US,1)                                 "Message ID Being Responded To"
(0x00000800,1,US,1,E,0x0101)                        "Data Set Type"
(0x00000900,1,US,1)                                 "Status"
(0x00000901,3,AT,1:n)                               "Offending Element"
(0x00000902,3,LO,1)                                 "Error Comment"
(0x00000903,3,US,1)                                 "Error ID"
(0x00001000,3,UI,1)                                 "Affected SOP Instance UID"
(0x00001005,3,AT,1:n)                               "Attribute Identifier List"
ENDDEFINE